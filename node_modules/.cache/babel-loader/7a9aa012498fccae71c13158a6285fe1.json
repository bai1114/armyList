{"ast":null,"code":"var _jsxFileName = \"/Users/Flora/myapp/src/components/DirectSubs/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\n\nclass DirectSubs extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDelete = _id => {\n      this.props.deleteSoldier(_id);\n      this.props.fetchDirectSubs(this.props._id);\n\n      if (this.props.deleteErr) {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n\n    this.state = {\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    const _this$props = this.props,\n          fetchDirectSubs = _this$props.fetchDirectSubs,\n          _id = _this$props._id;\n    fetchDirectSubs(_id);\n  }\n\n  render() {\n    const style = {\n      maxHeight: '50px',\n      maxWidth: '50px'\n    }; // const handleSort = this.props.handleSort;\n\n    const directSubs = this.props.directSubs;\n\n    if (directSubs.isLoading) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n\n    if (directSubs.err !== null) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Some errs happened!\");\n    }\n\n    console.log(directSubs.directSubs);\n\n    if (redirect && !this.props.isLoading) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Direct Subordinate\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Back\"))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-striped table-bordered table-hover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Avatar\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, \"name\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Name\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'sex'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Sex\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'rank'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Rank\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'startDate'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Start Date\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'phone'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Phone\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'email'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Email\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'superior', false),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Superior\")), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"\",\n        onClick: e => this.handleSort(e, 'numberOfDS', false),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"# of D.S.\")), React.createElement(\"th\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(\"th\", {\n        class: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, directSubs.directSubs.map(sub => {\n        return React.createElement(\"tr\", {\n          key: sub._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, sub.imgUrl ? React.createElement(\"img\", {\n          src: sub.imgUrl,\n          alt: \"\",\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }) : React.createElement(\"img\", {\n          src: face,\n          alt: \"default avatar\",\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, sub.name), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, sub.sex), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, sub.rank), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, sub.startDate), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"tel:sub.phone\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, sub.phone)), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"mailto:sub.email\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, sub.email)), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/\".concat(sub.superiorId),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, sub.superiorName)), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, sub.numberOfDirectSubs === 0 ? 0 : React.createElement(Link, {\n          to: \"/\".concat(sub._id, \"/directSubs\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, sub.numberOfDirectSubs)), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(Link, {\n          className: \"btn btn-info\",\n          to: \"/edit/\".concat(sub._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, \"Edit\")), React.createElement(\"td\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-danger\",\n          onClick: () => this.props.deleteSoldier(sub._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Delete\")));\n      })))));\n    }\n  }\n\n}\n\nexport default DirectSubs;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/DirectSubs/index.js"],"names":["React","Component","Link","face","DirectSubs","constructor","props","onDelete","_id","deleteSoldier","fetchDirectSubs","deleteErr","setState","redirect","state","componentDidMount","render","style","maxHeight","maxWidth","directSubs","isLoading","err","console","log","pathname","e","handleSort","map","sub","imgUrl","name","sex","rank","startDate","phone","email","superiorId","superiorName","numberOfDirectSubs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\n\nclass DirectSubs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false,\n    };\n  }\n  componentDidMount() {\n    const { fetchDirectSubs, _id } = this.props;\n    fetchDirectSubs(_id);\n  }\n  onDelete = (_id) =>{\n    this.props.deleteSoldier(_id);\n    this.props.fetchDirectSubs(this.props._id);\n  \n    if (this.props.deleteErr) {\n      this.setState({redirect: true});\n    }\n  }\n\n  render() {\n    const style = {\n      maxHeight: '50px',\n      maxWidth: '50px'\n    };  \n    // const handleSort = this.props.handleSort;\n    const { directSubs} = this.props;\n    if (directSubs.isLoading) {\n      return <p>Loading...</p>\n    }\n    if (directSubs.err !== null) {\n      return <p>Some errs happened!</p>\n    }\n    console.log(directSubs.directSubs);\n    if (redirect && !this.props.isLoading) {\n      return <Redirect to = {{ pathname: '/' }}/>\n    } else {\n    return (\n      <div className=\"container\">\n        <h3>Direct Subordinate</h3>\n        <div>\n          <Link to={`/`}><button className=\"btn btn-secondary\">Back</button></Link>\n        </div>\n        <div>\n          <table className=\"table table-striped table-bordered table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Avatar</th>\n                <th scope=\"col\" >\n                  <a href='' onClick = {e => this.handleSort(e, \"name\")}>Name</a>\n                </th>\n                <th scope=\"col\"> \n                  <a href='' onClick = {e => this.handleSort(e, 'sex')}>Sex</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=''  onClick = {e => this.handleSort(e, 'rank')}>Rank</a>\n                </th>\n                <th scope=\"col\">\n                  <a href='' onClick = {e => this.handleSort(e, 'startDate')}>Start Date</a>\n                </th>\n                <th scope=\"col\">\n                  <a href='' onClick = {e => this.handleSort(e, 'phone')}>Phone</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=''  onClick = {e => this.handleSort(e, 'email')}>Email</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=''  onClick = {e => this.handleSort(e, 'superior', false)}>Superior</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=''  onClick = {e => this.handleSort(e, 'numberOfDS', false)}># of D.S.</a>\n                </th>\n                <th class='text-center'>Edit</th>\n                <th class='text-center'>Delete</th>\n            </tr>\n          </thead>\n\n          <tbody>\n              {directSubs.directSubs.map(sub => {\n                return (\n                  <tr key = {sub._id}> \n                    <td>\n                      { sub.imgUrl ? (<img src={sub.imgUrl} alt =\"\" style={style}/>) : (\n                        <img src={face} alt=\"default avatar\" style={style} />\n                      )}\n                    </td>\n                    <td class='text-center'>{sub.name}</td>\n                    <td class='text-center'>{sub.sex}</td>\n                    <td class='text-center'>{sub.rank}</td>\n                    <td class='text-center'>{sub.startDate}</td>\n                    <td class='text-center'><a href ={`tel:sub.phone`}>{sub.phone}</a></td>\n                    <td class='text-center'><a href ={`mailto:sub.email`}>{sub.email}</a></td>\n                    <td class='text-center'><Link to ={`/${sub.superiorId}`}>{sub.superiorName}</Link></td>\n                    <td class='text-center'>{sub.numberOfDirectSubs === 0 ? 0 : <Link to={`/${sub._id}/directSubs`}>{sub.numberOfDirectSubs}</Link>}</td>\n                    <td class='text-center'><Link className=\"btn btn-info\" to={`/edit/${sub._id}`} >Edit</Link></td> \n                    <td class='text-center'><button type = 'button' className=\"btn btn-danger\" onClick={() => this.props.deleteSoldier(sub._id)}>Delete</button></td>\n                  </tr>\n                );\n              })} \n            </tbody>  \n          {/* <tbody>\n          {directSubs.directSubs.map(sub => {\n            return <Soldier key={sub._id} soldier={sub}/> // delete 还没加\n          })}\n          </tbody> */}\n        </table>\n        </div>\n  \n      </div>\n    );\n    }\n  }\n}\n\nexport default DirectSubs;"]},"metadata":{},"sourceType":"module"}