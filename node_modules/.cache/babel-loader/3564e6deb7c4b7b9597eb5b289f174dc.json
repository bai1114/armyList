{"ast":null,"code":"var _jsxFileName = \"/Users/Flora/myapp/src/components/HomePage/index.js\";\nimport React, { Component } from 'react'; // import { connect } from 'react-redux';\n\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport moment from 'react-moment';\n\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onDelete = _id => {\n      this.props.deleteSoldier(_id);\n\n      if (this.props.deleteErr) {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n\n    this.handleSort = (e, key) => {\n      e.preventDefault();\n      this.props.sortSoldiers(key, false);\n    };\n\n    this.handleReset = () => {\n      this.props.fetchSoldiers();\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.soldiers.length === 0) {\n      this.props.fetchSoldiers();\n    }\n  }\n\n  render() {\n    let filteredList = this.props.soldiers;\n\n    if (this.props.searchInput !== '') {\n      filteredList = this.props.soldiers.filter(soldier => {\n        for (let key in soldier) {\n          if (typeof soldier[key] === 'string') {\n            const input = this.props.searchInput.toLowerCase();\n            const value = soldier[key].toLowerCase();\n\n            if (value.indexOf(input) === 0) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      });\n    }\n\n    const style = {\n      maxHeight: '50px',\n      maxWidth: '50px'\n    };\n\n    if (this.props.err !== null) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"There is an error in getting soldiers.\");\n    } else {\n      if (this.props.isLoading) {\n        return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"US Army Personnel Registry\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"form-inline\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Search\",\n          onChange: e => this.props.changeInput(e.target.value),\n          value: this.props.searchInput,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-danger\",\n          onClick: () => this.handleReset(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"Reset\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"scrollable\",\n          className: \"scroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(InfiniteScroll, {\n          className: \"scroll\",\n          dataLength: filteredList.length,\n          next: () => this.props.loadSoldiers(filteredList.length, 5),\n          hasMore: this.props.hasMore // loader={<h6>Loading..</h6>}\n          ,\n          endMessage: React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, \"End\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table table-bordered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          className: \"thead-dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \"Avatar\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, \"name\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Name\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'sex'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Sex\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'rank'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"Rank\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'startDate'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, \"Start Date\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'phone'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \"Phone\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'email'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Email\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'superior', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Superior\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'numberOfDS', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"# of D.S.\")), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Delete\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, filteredList.map(soldier => {\n          return React.createElement(\"tr\", {\n            key: soldier._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, soldier.imgUrl ? React.createElement(\"img\", {\n            src: soldier.imgUrl,\n            alt: \"\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }) : React.createElement(\"img\", {\n            src: face,\n            alt: \"default avatar\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, soldier.name), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, soldier.sex), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, soldier.rank), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, soldier.startDate.getYear() - soldier.startDategetMonth() - soldier.startDategetDay()), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"tel:soldier.phone\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, soldier.phone)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"mailto:soldier.email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, soldier.email)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/\".concat(soldier.superiorId),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, soldier.superiorName)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs === 0 ? 0 : React.createElement(Link, {\n            to: \"/\".concat(soldier._id, \"/directSubs\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(Link, {\n            className: \"btn btn-info\",\n            to: \"/edit/\".concat(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, \"Edit\")), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: () => this.onDelete(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, \"Delete\")));\n        })))))), React.createElement(Link, {\n          to: \"/create\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Create New Soldier\"));\n      }\n    }\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/HomePage/index.js"],"names":["React","Component","Link","face","InfiniteScroll","moment","HomePage","onDelete","_id","props","deleteSoldier","deleteErr","setState","redirect","handleSort","e","key","preventDefault","sortSoldiers","handleReset","fetchSoldiers","componentDidMount","soldiers","length","render","filteredList","searchInput","filter","soldier","input","toLowerCase","value","indexOf","style","maxHeight","maxWidth","err","isLoading","changeInput","target","loadSoldiers","hasMore","map","imgUrl","name","sex","rank","startDate","getYear","startDategetMonth","startDategetDay","phone","email","superiorId","superiorName","numberOfDirectSubs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport moment from 'react-moment';\n\nclass HomePage extends Component {\n  componentDidMount() {\n    if (this.props.soldiers.length === 0) {    \n      this.props.fetchSoldiers();\n    }\n  };\n\n  onDelete = (_id) => {\n    this.props.deleteSoldier(_id);\n    if (this.props.deleteErr) {\n      this.setState({redirect: true});\n    }\n  };\n  \n  handleSort = (e, key) => {\n    e.preventDefault();\n    this.props.sortSoldiers(key, false);\n  }\n\n  handleReset = () => {\n    this.props.fetchSoldiers();\n  }\n\n  render() {\n    let filteredList = this.props.soldiers;\n    if (this.props.searchInput !== '') {\n      filteredList = this.props.soldiers.filter(soldier => {\n        for (let key in soldier) {\n          if (typeof soldier[key] === 'string') {\n            const input = this.props.searchInput.toLowerCase();\n            const value = soldier[key].toLowerCase();\n            if (value.indexOf(input) === 0) {\n              return true;\n            }\n          }\n        }\n        return false;\n      });\n    }\n    \n    const style = { maxHeight: '50px', maxWidth: '50px' };\n    if (this.props.err !== null) {\n      return <p>There is an error in getting soldiers.</p>\n    } else {\n      if (this.props.isLoading) {\n        return <h2>Loading...</h2>\n      } else {\n        return (\n          <div>\n            <div>\n              <h2>US Army Personnel Registry</h2>\n            </div>\n            <div>\n              <form className=\"form-inline\">\n                <input \n                  type=\"text\" \n                  className=\"form-control\"\n                  placeholder=\"Search\"\n                  onChange={e => this.props.changeInput(e.target.value)} \n                  value={this.props.searchInput} \n                />\n              </form>\n            </div>\n            <div>\n              <button type = 'button' className=\"btn btn-danger\" \n                      onClick={() => this.handleReset()}>Reset</button>\n            </div>\n            <div>\n              <div id=\"scrollable\" className=\"scroll\">\n                <InfiniteScroll\n                  className=\"scroll\"\n                  dataLength={filteredList.length}\n                  next={() =>this.props.loadSoldiers(filteredList.length, 5)}\n                  hasMore={this.props.hasMore}\n                  // loader={<h6>Loading..</h6>}\n                  endMessage={<h3>End</h3>}\n                >\n              <table className=\"table table-bordered\">\n                <thead className =\"thead-dark\"> \n                  <tr>\n                    <th scope=\"col\">Avatar</th>\n                    <th scope=\"col\" >\n                      <a href='' onClick = {e => this.handleSort(e, \"name\")}>Name</a>\n                    </th>\n                    <th scope=\"col\"> \n                      <a href='' onClick = {e => this.handleSort(e, 'sex')}>Sex</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'rank')}>Rank</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'startDate')}>Start Date</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'phone')}>Phone</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'email')}>Email</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'superior', false)}>Superior</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'numberOfDS', false)}># of D.S.</a>\n                    </th>\n                    <th class='text-center'>Edit</th>\n                    <th class='text-center'>Delete</th>\n                  </tr>    \n                </thead>\n              \n                <tbody>\n                  {filteredList.map(soldier => {\n                    return (\n                      <tr key = {soldier._id}>\n                        <td>\n                          { soldier.imgUrl ? (<img src={soldier.imgUrl} alt =\"\" style={style}/>) : (\n                            <img src={face} alt=\"default avatar\" style={style} />\n                          )}\n                        </td>\n                        <td class='text-center'>{soldier.name}</td>\n                        <td class='text-center'>{soldier.sex}</td>\n                        <td class='text-center'>{soldier.rank}</td>\n                        <td class='text-center'>{soldier.startDate.getYear()-soldier.startDategetMonth()-soldier.startDategetDay()}</td>\n                        <td class='text-center'><a href ={`tel:soldier.phone`}>{soldier.phone}</a></td>\n                        <td class='text-center'><a href ={`mailto:soldier.email`}>{soldier.email}</a></td>\n                        <td class='text-center'><Link to ={`/${soldier.superiorId}`}>{soldier.superiorName}</Link></td>\n                        <td class='text-center'>{soldier.numberOfDirectSubs === 0 ? 0 : <Link to={`/${soldier._id}/directSubs`}>{soldier.numberOfDirectSubs}</Link>}</td>\n                        <td class='text-center'><Link className=\"btn btn-info\" to={`/edit/${soldier._id}`} >Edit</Link></td> \n                        <td class='text-center'><button type = 'button' className=\"btn btn-danger\" onClick={() => this.onDelete(soldier._id)}>Delete</button></td>\n                      </tr>\n                    );\n                  \n              })} \n            </tbody>  \n          </table>\n          </InfiniteScroll>\n          </div>\n        </div>\n\n          {/*  Button to Create User  */}\n          <Link to=\"/create\" className=\"btn btn-primary\" > \n            Create New Soldier\n          </Link>\n\n      </div>\n    )\n    }\n  }}\n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}