{"ast":null,"code":"import axios from 'axios'; // Redirect\n\nexport const redirect = () => {\n  return {\n    type: 'REDIRECT'\n  };\n};\nexport const resetRedirect = () => {\n  return {\n    type: 'RESET_REDIRECT'\n  };\n}; // Fetch Page\n\nconst fetchSoldiersStart = () => {\n  return {\n    type: 'FETCH_SOLDIERS_START'\n  };\n};\n\nconst fetchSoldiersSuccess = soldiers => {\n  return {\n    type: 'FETCH_SOLDIERS_SUCCESS',\n    soldiers\n  };\n};\n\nconst fetchSoldiersFail = err => {\n  return {\n    type: 'FETCH_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const fetchSoldiers = () => {\n  return dispatch => {\n    dispatch(fetchSoldiersStart());\n    axios.get('http://localhost:5000/api/range/0/10').then(response => {\n      dispatch(fetchSoldiersSuccess(response.data.soldiers));\n    }).catch(err => {\n      dispatch(fetchSoldiersFail(err));\n    });\n  };\n}; // add range\n\nconst addRangeSoldiersStart = () => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_START'\n  };\n};\n\nconst addRangeSoldiersSuccess = (soldiers, hasMore) => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_SUCCESS',\n    soldiers,\n    hasMore\n  };\n};\n\nconst addRangeSoldiersFail = err => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const addRangeSoldiers = (offset, limit) => {\n  return dispatch => {\n    dispatch(addRangeSoldiersStart());\n    axios({\n      method: 'get',\n      url: \"http://localhost:5000/api/range/\".concat(offset, \"/\").concat(limit)\n    }).then(response => {\n      const soldiers = response.data.soldiers;\n      const hasMore = soldiers.length >= limit;\n      dispatch(addRangeSoldiersSuccess(soldiers, hasMore));\n    }).catch(err => {\n      dispatch(addRangeSoldiersFail(err));\n    });\n  };\n}; // load\n\nexport const reload = () => {\n  return dispatch => {\n    dispatch(fetchSoldiersStart());\n    axios({\n      method: 'get',\n      url: 'http://localhost:5000/api/'\n    }).then(response => {\n      dispatch(fetchSoldiersSuccess(response.data.soldiers));\n    }) // .then(res => {\n    //   dispatch(sortSoldiers(\"\", true));\n    // })\n    .catch(err => {\n      dispatch(fetchSoldiersFail(err));\n    });\n  };\n}; // Fetch Sub Page\n\nconst fetchDirectSubsStart = () => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_START'\n  };\n};\n\nconst fetchDirectSubsSuccess = directSubs => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_SUCCESS',\n    directSubs\n  };\n};\n\nconst fetchDirectSubsFail = err => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_FAIL',\n    err\n  };\n};\n\nexport const fetchDirectSubs = _id => {\n  return dispatch => {\n    dispatch(fetchDirectSubsStart());\n    axios({\n      method: 'get',\n      url: \"http://localhost:5000/api/\".concat(_id, \"/directSubs\")\n    }).then(response => {\n      dispatch(fetchDirectSubsSuccess(response.data.directSubs));\n    }).catch(err => {\n      dispatch(fetchDirectSubsFail(err));\n    });\n  };\n}; // Fetch Sup Page\n\nconst fetchSupStart = () => {\n  return {\n    type: 'FETCH_SUP_START'\n  };\n};\n\nconst fetchSupSuccess = soldier => {\n  return {\n    type: 'FETCH_SUP_SUCCESS',\n    soldier\n  };\n};\n\nconst fetchSupFail = err => {\n  return {\n    type: 'FETCH_SUP_FAIL',\n    err\n  };\n};\n\nexport const fetchSup = _id => {\n  return dispatch => {\n    dispatch(fetchSupStart());\n    axios({\n      method: 'get',\n      url: \"http://localhost:5000/api/\".concat(_id)\n    }).then(response => {\n      dispatch(fetchSupSuccess(response.data.soldier));\n    }).catch(err => {\n      dispatch(fetchSupFail(err));\n    });\n  };\n}; // Create User\n\nconst createSoldierStart = () => {\n  return {\n    type: 'CREATE_SOLDIER_START'\n  };\n};\n\nconst createSoldierFail = error => {\n  return {\n    type: 'CREATE_SOLDIER_FAIL',\n    error\n  };\n};\n\nconst createSoldierSuccess = newSoldier => {\n  return {\n    type: 'CREATE_SOLDIER_SUCCESS',\n    newSoldier\n  };\n};\n\nexport const createSoldier = soldier => {\n  return dispatch => {\n    dispatch(createSoldierStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/create',\n      data: soldier\n    }).then(response => {\n      // console.log('response.data.soldier', response.data.soldier);\n      dispatch(createSoldierSuccess(response.data.soldier));\n      dispatch(redirect());\n    }).catch(error => {\n      dispatch(createSoldierFail(error));\n    });\n  };\n}; // Edit User\n\nconst editSoldierStart = () => {\n  return {\n    type: 'EDIT_SOLDIER_START'\n  };\n};\n\nconst editSoldierFail = error => {\n  return {\n    type: 'EDIT_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst editSoldierSuccess = (id, soldier) => {\n  return {\n    type: 'EDIT_SOLDIER_SUCCESS',\n    id,\n    soldier\n  };\n};\n\nexport const editSoldier = (id, soldier) => {\n  return dispatch => {\n    dispatch(editSoldierStart()); // console.log('id', id);\n\n    axios({\n      method: 'put',\n      url: \"http://localhost:5000/api/edit/\".concat(id),\n      data: soldier\n    }).then(response => {\n      dispatch(editSoldierSuccess(id, response.data.soldier));\n      dispatch(fetchSoldiers());\n      dispatch(redirect());\n    }).catch(error => {\n      dispatch(editSoldierFail(error));\n    });\n  };\n}; // Delete User\n\nconst deleteSoldierStart = () => {\n  return {\n    type: 'DELETE_SOLDIER_START'\n  };\n};\n\nconst deleteSoldierFail = error => {\n  return {\n    type: 'DELETE_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst deleteSoldierSuccess = id => {\n  return {\n    type: 'DELETE_SOLDIER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteSoldier = id => {\n  return dispatch => {\n    dispatch(deleteSoldierStart()); // console.log('delete id is ', id);\n\n    axios.delete(\"http://localhost:5000/api/delete/\".concat(id)).then(response => {\n      dispatch(deleteSoldierSuccess(id));\n      dispatch(redirect());\n    }).catch(error => {\n      dispatch(deleteSoldierFail(error));\n    });\n  };\n}; // Upload Image\n\nconst uploadImageStart = () => {\n  return {\n    type: 'UPLOAD_IMAGE_START'\n  };\n};\n\nconst uploadImageSuccess = (image, filename, imgUrl) => {\n  return {\n    type: 'UPLOAD_IMAGE_SUCCESS',\n    image,\n    filename,\n    imgUrl\n  };\n};\n\nconst uploadImageFail = err => {\n  return {\n    type: 'UPLOAD_IMAGE_FAIL',\n    err\n  };\n};\n\nexport const uploadImage = (image, filename) => {\n  let data = new FormData();\n  data.append('image', image);\n  data.append('filename', filename);\n  return dispatch => {\n    dispatch(uploadImageStart());\n    axios({\n      method: 'post',\n      url: 'http://localhost:5000/api/image',\n      data: data\n    }).then(response => {\n      dispatch(uploadImageSuccess(image, filename, response.data.imgUrl));\n    }).catch(err => {\n      dispatch(uploadImageFail(err));\n    });\n  };\n};\nexport const sortSoldiers = (key, keep) => {\n  return {\n    type: 'SORT_SOLDIERS',\n    key,\n    keep\n  };\n};\nexport const changeInput = input => {\n  return {\n    type: 'CHANGE_INPUT',\n    input\n  };\n};\nexport const clearInput = () => {\n  return {\n    type: 'CLEAR_INPUT'\n  };\n}; // .then(response => {\n//   dispatch(reload());  \n// })","map":{"version":3,"sources":["/Users/Flora/myapp/src/redux/action-creators/index.js"],"names":["axios","redirect","type","resetRedirect","fetchSoldiersStart","fetchSoldiersSuccess","soldiers","fetchSoldiersFail","err","fetchSoldiers","dispatch","get","then","response","data","catch","addRangeSoldiersStart","addRangeSoldiersSuccess","hasMore","addRangeSoldiersFail","addRangeSoldiers","offset","limit","method","url","length","reload","fetchDirectSubsStart","fetchDirectSubsSuccess","directSubs","fetchDirectSubsFail","fetchDirectSubs","_id","fetchSupStart","fetchSupSuccess","soldier","fetchSupFail","fetchSup","createSoldierStart","createSoldierFail","error","createSoldierSuccess","newSoldier","createSoldier","editSoldierStart","editSoldierFail","editSoldierSuccess","id","editSoldier","deleteSoldierStart","deleteSoldierFail","deleteSoldierSuccess","deleteSoldier","delete","uploadImageStart","uploadImageSuccess","image","filename","imgUrl","uploadImageFail","uploadImage","FormData","append","sortSoldiers","key","keep","changeInput","input","clearInput"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n// Redirect\nexport const redirect = () => {\n  return {\n    type: 'REDIRECT'\n  };\n};\n\nexport const resetRedirect = () => {\n  return {\n    type: 'RESET_REDIRECT'\n  };\n};\n\n\n// Fetch Page\nconst fetchSoldiersStart = () => {\n  return {\n    type: 'FETCH_SOLDIERS_START'\n  };\n};\n\nconst fetchSoldiersSuccess = (soldiers) => {\n  return {\n    type: 'FETCH_SOLDIERS_SUCCESS',\n    soldiers\n  };\n};\n\nconst fetchSoldiersFail = err => {\n  return {\n    type: 'FETCH_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const fetchSoldiers = () => {\n  return (dispatch) => {\n    dispatch(fetchSoldiersStart());\n    axios\n      .get('http://localhost:5000/api/range/0/10')\n      .then(response => {\n        dispatch(fetchSoldiersSuccess(response.data.soldiers));\n      })\n      .catch(err => {\n        dispatch(fetchSoldiersFail(err));\n      });\n  }\n}\n\n// add range\nconst addRangeSoldiersStart = () => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_START'\n  };\n};\n\nconst addRangeSoldiersSuccess = (soldiers, hasMore) => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_SUCCESS',\n    soldiers,\n    hasMore\n  };\n};\n\nconst addRangeSoldiersFail = err => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const addRangeSoldiers = (offset, limit) => {\n  return dispatch => {\n    dispatch(addRangeSoldiersStart());\n    axios({\n      method: 'get',\n      url: `http://localhost:5000/api/range/${offset}/${limit}`\n    })\n      .then(response => {\n        const soldiers = response.data.soldiers;\n        const hasMore = soldiers.length >= limit;\n        dispatch(addRangeSoldiersSuccess(soldiers, hasMore));\n      })\n      .catch(err => {\n        dispatch(addRangeSoldiersFail(err));\n      });\n  };\n};\n\n// load\nexport const reload = () => {\n  return (dispatch) => {\n    dispatch(fetchSoldiersStart());\n    axios({\n      method: 'get',\n      url: 'http://localhost:5000/api/'\n    })\n      .then(response => {\n        dispatch(fetchSoldiersSuccess(response.data.soldiers));\n      })\n      // .then(res => {\n      //   dispatch(sortSoldiers(\"\", true));\n      // })\n      .catch(err => {\n        dispatch(fetchSoldiersFail(err));\n      });\n  }\n};\n\n\n\n// Fetch Sub Page\nconst fetchDirectSubsStart = () => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_START'\n  };\n};\n\nconst fetchDirectSubsSuccess = directSubs => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_SUCCESS',\n    directSubs\n  };\n};\n\nconst fetchDirectSubsFail = err => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_FAIL',\n    err\n  };\n};\n\nexport const fetchDirectSubs = _id => {\n  return (dispatch) => {\n    dispatch(fetchDirectSubsStart());\n    axios({\n      method: 'get',\n      url: `http://localhost:5000/api/${_id}/directSubs`\n    })\n      .then(response => {\n        dispatch(fetchDirectSubsSuccess(response.data.directSubs));\n      })\n      .catch(err => {\n        dispatch(fetchDirectSubsFail(err));\n      });\n  };\n};\n\n\n// Fetch Sup Page\nconst fetchSupStart = () => {\n  return {\n    type: 'FETCH_SUP_START'\n  };\n};\n\nconst fetchSupSuccess = soldier => {\n  return {\n    type: 'FETCH_SUP_SUCCESS',\n    soldier\n  };\n};\n\nconst fetchSupFail = err => {\n  return {\n    type: 'FETCH_SUP_FAIL',\n    err\n  };\n};\n\nexport const fetchSup = _id => {\n  return (dispatch) => {\n    dispatch(fetchSupStart());\n    axios({\n      method: 'get',\n      url: `http://localhost:5000/api/${_id}`\n    })\n      .then(response => {\n        dispatch(fetchSupSuccess(response.data.soldier));\n      })\n      .catch(err => {\n        dispatch(fetchSupFail(err));\n      });\n  };\n};\n\n\n// Create User\nconst createSoldierStart = () => {\n  return {\n    type: 'CREATE_SOLDIER_START'\n  };  \n};\nconst createSoldierFail = (error) => {\n  return {\n    type:'CREATE_SOLDIER_FAIL',\n    error\n  };\n};\n\nconst createSoldierSuccess = (newSoldier) => {\n  return {\n    type:'CREATE_SOLDIER_SUCCESS',\n    newSoldier\n  }\n};\n\n \nexport const createSoldier = (soldier) => {\n  return (dispatch) => {\n    dispatch(createSoldierStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/create',\n      data: soldier\n    })\n      .then(response => {\n        // console.log('response.data.soldier', response.data.soldier);\n        dispatch(createSoldierSuccess(response.data.soldier));\n        dispatch(redirect());  \n      })\n      .catch(error => {\n        dispatch(createSoldierFail(error));\n      });\n  };\n};\n\n// Edit User\nconst editSoldierStart = () => {\n  return {\n    type: 'EDIT_SOLDIER_START'\n  };\n};\n\nconst editSoldierFail = (error) => {\n  return {\n    type: 'EDIT_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst editSoldierSuccess = (id, soldier) => {\n  return {\n    type: 'EDIT_SOLDIER_SUCCESS',\n    id,\n    soldier\n  };\n};\n\nexport const editSoldier = (id, soldier) => {\n  return (dispatch) => {\n    dispatch(editSoldierStart());\n    // console.log('id', id);\n    axios({\n      method: 'put',\n      url: `http://localhost:5000/api/edit/${id}`,\n      data: soldier\n    })\n      .then(response => {\n        dispatch(editSoldierSuccess(id, response.data.soldier));\n        dispatch(fetchSoldiers());\n        dispatch(redirect());  \n      })\n      .catch(error => {\n        dispatch(editSoldierFail(error));\n      });\n   };\n};\n\n// Delete User\nconst deleteSoldierStart = () => {\n  return {\n    type: 'DELETE_SOLDIER_START'\n  };\n};\n\nconst deleteSoldierFail = (error) => {\n  return {\n    type: 'DELETE_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst deleteSoldierSuccess = (id) => {\n  return {\n    type: 'DELETE_SOLDIER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteSoldier = (id) => {\n  return (dispatch) => {\n    dispatch(deleteSoldierStart());\n    // console.log('delete id is ', id);\n    axios\n      .delete(`http://localhost:5000/api/delete/${id}`)\n      .then(response => {\n        dispatch(deleteSoldierSuccess(id));\n        dispatch(redirect());  \n      }) \n      .catch(error => {\n        dispatch(deleteSoldierFail(error));\n      });\n  };\n};\n\n\n// Upload Image\nconst uploadImageStart = () => {\n  return {\n    type: 'UPLOAD_IMAGE_START'\n  };\n};\n\nconst uploadImageSuccess = (image, filename, imgUrl) => {\n  return {\n    type: 'UPLOAD_IMAGE_SUCCESS',\n    image,\n    filename,\n    imgUrl\n  };\n};\n\nconst uploadImageFail= err => {\n  return {\n    type: 'UPLOAD_IMAGE_FAIL',\n    err\n  };\n};\n\nexport const uploadImage = (image, filename) => {\n  let data = new FormData();\n  data.append('image', image);\n  data.append('filename', filename);\n\n  return (dispatch) => {\n    dispatch(uploadImageStart());\n    axios({\n      method: 'post',\n      url: 'http://localhost:5000/api/image',\n      data: data\n    })\n      .then(response => {\n        dispatch(uploadImageSuccess(image, filename, response.data.imgUrl));\n      })\n      .catch(err => {\n        dispatch(uploadImageFail(err));\n      });\n  }\n};\n\n\n\n\nexport const sortSoldiers = (key,keep) => {\n  return {\n    type: 'SORT_SOLDIERS',\n    key,\n    keep,\n  };\n};\n\nexport const changeInput = input => {\n  return {\n    type: 'CHANGE_INPUT',\n    input\n  };\n};\n\nexport const clearInput = () => {\n  return {\n    type: 'CLEAR_INPUT',\n  };\n};\n\n\n      // .then(response => {\n      //   dispatch(reload());  \n      // })\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}