{"ast":null,"code":"var _jsxFileName = \"/Users/Flora/myapp/src/components/EditUser/index.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'; //import { connect } from 'react-redux';\n\nimport { getUsers, createUser, editUser } from '../../redux/action-creators';\n\nclass EditUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let _this$props = this.props,\n          id = _this$props.id,\n          editUser = _this$props.editUser,\n          redirectToUserlist = _this$props.redirectToUserlist;\n      let _this$props2 = this.props,\n          firstname = _this$props2.firstname,\n          lastname = _this$props2.lastname,\n          sex = _this$props2.sex,\n          age = _this$props2.age,\n          passoword = _this$props2.passoword;\n\n      if (this.state.password === this.state.passwordRepeat) {\n        const currentUser = {\n          id,\n          firstname,\n          lastname,\n          sex,\n          age,\n          passoword\n        };\n        editUser(id, currentUser);\n        console.log(currentUser);\n        this.setState({\n          firstname: '',\n          lastname: '',\n          sex: '',\n          age: '',\n          passoword: '',\n          passwordRepeat: '',\n          passwordsSame: true\n        });\n        redirectToUserlist();\n      } else {\n        this.setState({\n          passoword: '',\n          passwordRepeat: '',\n          passwordsSame: false\n        });\n      }\n    };\n\n    this.handleChange = (e, key) => {\n      const editUser = {};\n      editUser[key] = e.target.value;\n      this.setState(editUser);\n    };\n\n    this.handleRepeatChange = e => {\n      this.setState({\n        passwordRepeat: e.target.value\n      });\n    };\n\n    this.state = {\n      firstname: '',\n      lastname: '',\n      sex: '',\n      age: '',\n      password: '',\n      passwordRepeat: '',\n      passwordsSame: true\n    };\n  }\n\n  componentDidMount() {\n    let _this$props3 = this.props,\n        getUsers = _this$props3.getUsers,\n        id = _this$props3.id;\n    const currentUser = getUsers(id);\n    console.log('current edit user is: ', currentUser);\n\n    if (currentUser) {\n      const firstname = currentUser.firstname,\n            lastname = currentUser.lastname,\n            sex = currentUser.sex,\n            age = currentUser.age,\n            passoword = currentUser.passoword;\n      this.setState({\n        firstname,\n        lastname,\n        sex,\n        age,\n        passoword\n      });\n    }\n  } // getUsers = () => {\n  //   this.props.dispatch(getUsers());\n  // }\n  // createUser = (user) => {\n  //   this.props.dispatch(createUser(user));\n  // }\n  // editUser = (user) => {\n  //   this.props.dispatch(editUser(user));\n  // }\n\n\n  render() {\n    const passwordStyle = {\n      color: 'red'\n    };\n    const redirect = this.props.redirect;\n\n    if (redirect && !this.props.isLoading) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Edit User\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"First Name:\", React.createElement(\"input\", {\n        type: \"text\",\n        id: \"firstname\",\n        value: this.state.firstname,\n        onChange: e => this.handleChange(e, 'firstname'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), \"Last Name:\", React.createElement(\"input\", {\n        type: \"text\",\n        id: \"lastname\",\n        value: this.state.lastname,\n        onChange: e => this.handleChange(e, 'lastname'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), \"Sex:\", React.createElement(\"input\", {\n        type: \"text\",\n        id: \"sex\",\n        value: this.state.sex,\n        onChange: e => this.handleChange(e, 'sex'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), \"Age:\", React.createElement(\"input\", {\n        type: \"number\",\n        id: \"age\",\n        value: this.state.age,\n        onChange: e => this.handleChange(e, 'age'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), \"Password:\", React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        value: this.state.password,\n        onChange: e => this.handleChange(e, 'password'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"passwordRepeat\",\n        style: this.state.passwordsSame === true ? null : passwordStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Password Repeat:\"), React.createElement(\"input\", {\n        type: \"passoword\",\n        id: \"passwordRepeat\",\n        value: this.state.passwordRepeat,\n        onChange: this.handleRepeatChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Save Change\")), this.state.passwordsSame === true ? null : React.createElement(\"p\", {\n        style: passwordStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Password doesn't match\"));\n    }\n  }\n\n}\n\nexport default EditUser;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/EditUser/index.js"],"names":["React","Component","Redirect","getUsers","createUser","editUser","EditUser","constructor","props","handleSubmit","e","preventDefault","id","redirectToUserlist","firstname","lastname","sex","age","passoword","state","password","passwordRepeat","currentUser","console","log","setState","passwordsSame","handleChange","key","target","value","handleRepeatChange","componentDidMount","render","passwordStyle","color","redirect","isLoading","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n//import { connect } from 'react-redux';\nimport { getUsers, createUser, editUser } from '../../redux/action-creators';\n\nclass EditUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstname: '',\n      lastname: '',\n      sex: '',\n      age: '',\n      password: '',\n      passwordRepeat: '',\n      passwordsSame: true\n    };\n  }\n  componentDidMount() {\n    let { getUsers, id } = this.props;\n    const currentUser = getUsers(id);\n    console.log('current edit user is: ', currentUser);\n    if (currentUser) {\n      const { firstname, lastname, sex, age, passoword } = currentUser;\n      this.setState({ firstname, lastname, sex, age, passoword });\n    }\n  }\n  // getUsers = () => {\n  //   this.props.dispatch(getUsers());\n  // }\n  // createUser = (user) => {\n  //   this.props.dispatch(createUser(user));\n  // }\n  // editUser = (user) => {\n  //   this.props.dispatch(editUser(user));\n  // }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    let { id, editUser, redirectToUserlist } = this.props;\n    let { firstname, lastname, sex, age, passoword } = this.props;\n    if (this.state.password === this.state.passwordRepeat) {\n      const currentUser = { id, firstname, lastname, sex, age, passoword };\n      editUser(id, currentUser);\n      console.log(currentUser);\n      this.setState({\n        firstname: '',\n        lastname: '',\n        sex: '',\n        age: '',\n        passoword: '',\n        passwordRepeat: '',\n        passwordsSame: true\n      });\n      redirectToUserlist();\n    } else {\n      this.setState({\n        passoword: '',\n        passwordRepeat: '',\n        passwordsSame: false\n      });\n    }\n  }\n \n  handleChange = (e, key) => {\n    const editUser = {};\n    editUser[key] = e.target.value;\n    this.setState(editUser);\n  }\n\n  handleRepeatChange = e => {\n    this.setState({passwordRepeat: e.target.value});\n  }\n \n  render() {\n    const passwordStyle = {color: 'red'};\n    const { redirect } = this.props;\n   if (redirect && !this.props.isLoading) {\n      return <Redirect to = {{ pathname: '/' }}/>\n    } else {\n      return (\n        <div>\n          <h2>Edit User</h2>\n          <form onSubmit = {this.handleSubmit}>\n            First Name: \n            <input type = 'text' id = 'firstname' value = {this.state.firstname} onChange = {e => this.handleChange(e, 'firstname')} required = {true} />\n            Last Name: \n            <input type = 'text' id = 'lastname' value = {this.state.lastname} onChange = {e => this.handleChange(e, 'lastname')} required = {true} />\n            Sex: \n            <input type = 'text' id = 'sex' value = {this.state.sex} onChange = {e => this.handleChange(e, 'sex')} required = {true}/>\n            Age: \n            <input type = 'number' id = 'age' value = {this.state.age} onChange = {e => this.handleChange(e, 'age')} required = {true}/>\n            Password: \n            <input type = 'password' id = 'password' value = {this.state.password} onChange = {e => this.handleChange(e, 'password')} required = {true} />\n            <div> \n               <label htmlFor='passwordRepeat' style={this.state.passwordsSame === true? null : passwordStyle}>\n                Password Repeat: \n               </label> \n              <input type = 'passoword' id = 'passwordRepeat' value = {this.state.passwordRepeat} onChange = {this.handleRepeatChange} required = {true} />\n            </div> \n            <button type = \"submit\">Save Change</button> \n          </form>\n          {this.state.passwordsSame===true? null : <p style={passwordStyle}>Password doesn't match</p>}\n        </div>\n      );\n    } \n  }\n}\n\nexport default EditUser;\n"]},"metadata":{},"sourceType":"module"}