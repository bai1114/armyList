{"ast":null,"code":"import axios from 'axios'; // Fetch Page\n\nconst fetchSoldiersStart = () => {\n  return {\n    type: 'FETCH_SOLDIERS_START'\n  };\n};\n\nconst fetchSoldiersSuccess = soldiers => {\n  return {\n    type: 'FETCH_SOLDIERS_SUCCESS',\n    soldiers\n  };\n};\n\nconst fetchSoldiersFail = err => {\n  return {\n    type: 'FETCH_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const fetchSoldiers = () => {\n  return dispatch => {\n    dispatch(fetchSoldiersStart());\n    axios.get('http://localhost:5000/api/range/0/10').then(response => {\n      console.log('!!!soldiers', response.data.soldiers);\n      dispatch(fetchSoldiersSuccess(response.data.soldiers));\n    }).catch(err => {\n      dispatch(fetchSoldiersFail(err));\n    });\n  };\n}; // add range\n\nconst addRangeSoldiersStart = () => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_START'\n  };\n};\n\nconst addRangeSoldiersSuccess = (soldiers, hasMore) => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_SUCCESS',\n    soldiers,\n    hasMore\n  };\n};\n\nconst addRangeSoldiersFail = err => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const addRangeEmployees = (offset, limit) => {\n  return dispatch => {\n    dispatch(addRangeEmployeesRequest());\n    axios({\n      method: 'get',\n      url: API_URL + \"range/\".concat(offset, \"/\").concat(limit)\n    }).then(response => {\n      const employees = response.data.employees;\n      const hasMore = employees.length >= limit;\n      dispatch(addRangeEmployeesSuccess(employees, hasMore));\n    }).catch(err => {\n      dispatch(addRangeEmployeesFailure(err));\n    });\n  };\n}; // Fetch Sub Page\n\nconst fetchDirectSubsStart = () => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_START'\n  };\n};\n\nconst fetchDirectSubsSuccess = directSubs => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_SUCCESS',\n    directSubs\n  };\n};\n\nconst fetchDirectSubsFail = err => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_FAIL',\n    err\n  };\n};\n\nexport const fetchDirectSubs = _id => {\n  return dispatch => {\n    dispatch(fetchDirectSubsStart());\n    axios({\n      method: 'get',\n      url: \"http://localhost:5000/api/\".concat(_id, \"/directSubs\")\n    }).then(response => {\n      dispatch(fetchDirectSubsSuccess(response.data.directSubs));\n    }).catch(err => {\n      dispatch(fetchDirectSubsFail(err));\n    });\n  };\n}; // Fetch Sup Page\n\nconst fetchSupStart = () => {\n  return {\n    type: 'FETCH_SUP_START'\n  };\n};\n\nconst fetchSupSuccess = soldier => {\n  return {\n    type: 'FETCH_SUP_SUCCESS',\n    soldier\n  };\n};\n\nconst fetchSupFail = err => {\n  return {\n    type: 'FETCH_SUP_FAIL',\n    err\n  };\n};\n\nexport const fetchSup = _id => {\n  return dispatch => {\n    dispatch(fetchSupStart());\n    axios({\n      method: 'get',\n      url: \"http://localhost:5000/api/\".concat(_id)\n    }).then(response => {\n      dispatch(fetchSupSuccess(response.data.soldier));\n      console.log('fetch soldier response.data', response.data.soldier);\n    }).catch(err => {\n      dispatch(fetchSupFail(err));\n    });\n  };\n}; // Create User\n\nconst createSoldierStart = () => {\n  return {\n    type: 'CREATE_SOLDIER_START'\n  };\n};\n\nconst createSoldierFail = error => {\n  return {\n    type: 'CREATE_SOLDIER_FAIL',\n    error\n  };\n};\n\nconst createSoldierSuccess = newSoldier => {\n  return {\n    type: 'CREATE_SOLDIER_SUCCESS',\n    newSoldier\n  };\n};\n\nexport const createSoldier = soldier => {\n  return dispatch => {\n    dispatch(createSoldierStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/create',\n      data: soldier\n    }).then(response => {\n      console.log('response.data.soldier', response.data.soldier);\n      dispatch(createSoldierSuccess(response.data.soldier));\n    }).catch(error => {\n      dispatch(createSoldierFail(error));\n    });\n  };\n}; // Edit User\n\nconst editSoldierStart = () => {\n  return {\n    type: 'EDIT_SOLDIER_START'\n  };\n};\n\nconst editSoldierFail = error => {\n  return {\n    type: 'EDIT_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst editSoldierSuccess = (id, soldier) => {\n  return {\n    type: 'EDIT_SOLDIER_SUCCESS',\n    id,\n    soldier\n  };\n};\n\nexport const editSoldier = (id, soldier) => {\n  return dispatch => {\n    dispatch(editSoldierStart());\n    axios.put(\"http://localhost:5000/api/edit/\".concat(id), soldier).then(response => {\n      dispatch(editSoldierSuccess(id, response.data.soldier));\n      dispatch(fetchSoldiers());\n    }).catch(error => {\n      dispatch(editSoldierFail(error));\n    });\n  };\n}; // Delete User\n\nconst deleteSoldierStart = () => {\n  return {\n    type: 'DELETE_SOLDIER_START'\n  };\n};\n\nconst deleteSoldierFail = error => {\n  return {\n    type: 'DELETE_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst deleteSoldierSuccess = id => {\n  return {\n    type: 'DELETE_SOLDIER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteSoldier = id => {\n  return dispatch => {\n    dispatch(deleteSoldierStart());\n    console.log('delete id is ', id);\n    axios.delete(\"http://localhost:5000/api/delete/\".concat(id)).then(response => {\n      dispatch(deleteSoldierSuccess(id));\n      console.log('delete soldier success');\n    }).catch(error => {\n      dispatch(deleteSoldierFail(error));\n    });\n  };\n}; // Upload Image\n\nconst uploadImageStart = () => {\n  return {\n    type: 'UPLOAD_IMAGE_START'\n  };\n};\n\nconst uploadImageSuccess = (image, filename, imgUrl) => {\n  return {\n    type: 'UPLOAD_IMAGE_SUCCESS',\n    image,\n    filename,\n    imgUrl\n  };\n};\n\nconst uploadImageFail = err => {\n  return {\n    type: 'UPLOAD_IMAGE_FAIL',\n    err\n  };\n};\n\nexport const uploadImage = (image, filename) => {\n  let data = new FormData();\n  data.append('image', image);\n  data.append('filename', filename);\n  console.log('data', data);\n  console.log('image', image);\n  return dispatch => {\n    dispatch(uploadImageStart());\n    axios({\n      method: 'post',\n      url: 'http://localhost:5000/api/image',\n      data: data\n    }).then(response => {\n      dispatch(uploadImageSuccess(image, filename, response.data.imgUrl));\n      console.log('response.data', response.data);\n    }).catch(err => {\n      dispatch(uploadImageFail(err));\n    });\n  };\n}; // Get Users\n// const getUsersStart = () => {\n//   return {\n//     type: 'GET_USERS_START'\n//   };\n// };\n// const getUsersFail = (error) => {\n//   return {\n//     type: 'GET_USERS_ERROR',\n//     error\n//   };\n// };\n// const getUsersSuccess = (response) => {\n//   return {\n//     type: 'GET_USERS_SUCCESS',\n//     data: response\n//   };\n// };\n// export const getUsers = () => {\n//   return (dispatch) => {\n//     dispatch(getUsersStart());\n//     axios\n//       .get('http://localhost:8080/api/', getUsers)\n//       .then(response => {\n//         dispatch(getUsersSuccess(response.data.users));\n//       })\n//       .catch(error => {\n//         dispatch(getUsersFail(error));\n//       });\n//   };\n// };\n// Redirect\n// export const redirect = () => {\n//   return {\n//     type: 'REDIRECT'\n//   };\n// };\n// export const resetRedirect = () => {\n//   return {\n//     type: 'RESET_REDIRECT'\n//   };\n// };\n// Sort\n// export const sortUsers = key => {\n//   return {\n//     type: 'SORT_USERS',\n//     key\n//   };\n// };\n// Search\n// const searchStart = () => {\n//   return {\n//     type: 'SEARCH_START'\n//   };\n// };\n// const searchSuccess = (users) => {\n//   return {\n//     type: 'SEARCH_SUCCESS',\n//     users,\n//   };\n// };\n// const searchFail = error => {\n//   return {\n//     type: 'SEARCH_FAIL',\n//     error\n//   };\n// };\n// export const search = (keyword) => {\n//   return (dispatch) => {\n//     dispatch(searchStart());\n//     axios\n//       .get(`http://localhost:8080/api/search/${keyword}`)\n//       .then(response => {\n//         console.log(`keyword is ${keyword}`);\n//         dispatch(searchSuccess(response.data));\n//       })\n//       .catch(error => {\n//         dispatch(searchFail(error));\n//       });\n//   }\n// }\n// export const changeSearchInput = (input) => {\n//   return {\n//     type: 'CHANGE_SEARCH_INPUT',\n//     input\n//   };\n// };\n// // Count Page\n// const getCountStart = () => {\n//   return {\n//     type: 'GET_COUNT_START'\n//   };\n// };\n// const getCountSuccess = count => {\n//   return {\n//     type: 'GET_COUNT_SUCCESS',\n//     count\n//   };\n// };\n// const getCountFail = err => {\n//   return {\n//     type: 'GET_COUNT_FAIL',\n//     err\n//   };\n// };\n// export const getCount = () => {\n//   return (dispatch) => {\n//     dispatch(getCountStart());\n//     axios\n//       .get('http://localhost:8080/api/count')\n//       .then(response => {\n//         const count = parseInt(response.data.count);\n//         dispatch(getCountSuccess(count));\n//       })\n//       .catch(err => {\n//         dispatch(getCountFail(err));\n//       });\n//   };\n// };\n// Set Status\n// export const setStatusCurPage = curPage => {\n//   return {\n//     type: 'SET_STATUS_CUR_PAGE',\n//     curPage\n//   };\n// };","map":{"version":3,"sources":["/Users/Flora/myapp/src/redux/action-creators/index.js"],"names":["axios","fetchSoldiersStart","type","fetchSoldiersSuccess","soldiers","fetchSoldiersFail","err","fetchSoldiers","dispatch","get","then","response","console","log","data","catch","addRangeSoldiersStart","addRangeSoldiersSuccess","hasMore","addRangeSoldiersFail","addRangeEmployees","offset","limit","addRangeEmployeesRequest","method","url","API_URL","employees","length","addRangeEmployeesSuccess","addRangeEmployeesFailure","fetchDirectSubsStart","fetchDirectSubsSuccess","directSubs","fetchDirectSubsFail","fetchDirectSubs","_id","fetchSupStart","fetchSupSuccess","soldier","fetchSupFail","fetchSup","createSoldierStart","createSoldierFail","error","createSoldierSuccess","newSoldier","createSoldier","editSoldierStart","editSoldierFail","editSoldierSuccess","id","editSoldier","put","deleteSoldierStart","deleteSoldierFail","deleteSoldierSuccess","deleteSoldier","delete","uploadImageStart","uploadImageSuccess","image","filename","imgUrl","uploadImageFail","uploadImage","FormData","append"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,MAAMC,kBAAkB,GAAG,MAAM;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAMC,oBAAoB,GAAIC,QAAD,IAAc;AACzC,SAAO;AACLF,IAAAA,IAAI,EAAE,wBADD;AAELE,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMC,iBAAiB,GAAGC,GAAG,IAAI;AAC/B,SAAO;AACLJ,IAAAA,IAAI,EAAE,qBADD;AAELI,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACP,kBAAkB,EAAnB,CAAR;AACAD,IAAAA,KAAK,CACFS,GADH,CACO,sCADP,EAEGC,IAFH,CAEQC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BF,QAAQ,CAACG,IAAT,CAAcV,QAAxC;AACAI,MAAAA,QAAQ,CAACL,oBAAoB,CAACQ,QAAQ,CAACG,IAAT,CAAcV,QAAf,CAArB,CAAR;AACD,KALH,EAMGW,KANH,CAMST,GAAG,IAAI;AACZE,MAAAA,QAAQ,CAACH,iBAAiB,CAACC,GAAD,CAAlB,CAAR;AACD,KARH;AASD,GAXD;AAYD,CAbM,C,CAeP;;AACA,MAAMU,qBAAqB,GAAG,MAAM;AAClC,SAAO;AACLd,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAMe,uBAAuB,GAAG,CAACb,QAAD,EAAWc,OAAX,KAAuB;AACrD,SAAO;AACLhB,IAAAA,IAAI,EAAE,4BADD;AAELE,IAAAA,QAFK;AAGLc,IAAAA;AAHK,GAAP;AAKD,CAND;;AAQA,MAAMC,oBAAoB,GAAGb,GAAG,IAAI;AAClC,SAAO;AACLJ,IAAAA,IAAI,EAAE,yBADD;AAELI,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAMc,iBAAiB,GAAG,CAACC,MAAD,EAASC,KAAT,KAAmB;AAClD,SAAOd,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAACe,wBAAwB,EAAzB,CAAR;AACAvB,IAAAA,KAAK,CAAC;AACJwB,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EAAEC,OAAO,mBAAYL,MAAZ,cAAsBC,KAAtB;AAFR,KAAD,CAAL,CAIGZ,IAJH,CAIQC,QAAQ,IAAI;AAChB,YAAMgB,SAAS,GAAGhB,QAAQ,CAACG,IAAT,CAAca,SAAhC;AACA,YAAMT,OAAO,GAAGS,SAAS,CAACC,MAAV,IAAoBN,KAApC;AACAd,MAAAA,QAAQ,CAACqB,wBAAwB,CAACF,SAAD,EAAYT,OAAZ,CAAzB,CAAR;AACD,KARH,EASGH,KATH,CASST,GAAG,IAAI;AACZE,MAAAA,QAAQ,CAACsB,wBAAwB,CAACxB,GAAD,CAAzB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAhBM,C,CAkBP;;AACA,MAAMyB,oBAAoB,GAAG,MAAM;AACjC,SAAO;AACL7B,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAM8B,sBAAsB,GAAGC,UAAU,IAAI;AAC3C,SAAO;AACL/B,IAAAA,IAAI,EAAE,2BADD;AAEL+B,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMC,mBAAmB,GAAG5B,GAAG,IAAI;AACjC,SAAO;AACLJ,IAAAA,IAAI,EAAE,wBADD;AAELI,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAM6B,eAAe,GAAGC,GAAG,IAAI;AACpC,SAAQ5B,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACuB,oBAAoB,EAArB,CAAR;AACA/B,IAAAA,KAAK,CAAC;AACJwB,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,sCAA+BW,GAA/B;AAFC,KAAD,CAAL,CAIG1B,IAJH,CAIQC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAACwB,sBAAsB,CAACrB,QAAQ,CAACG,IAAT,CAAcmB,UAAf,CAAvB,CAAR;AACD,KANH,EAOGlB,KAPH,CAOST,GAAG,IAAI;AACZE,MAAAA,QAAQ,CAAC0B,mBAAmB,CAAC5B,GAAD,CAApB,CAAR;AACD,KATH;AAUD,GAZD;AAaD,CAdM,C,CAiBP;;AACA,MAAM+B,aAAa,GAAG,MAAM;AAC1B,SAAO;AACLnC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAMoC,eAAe,GAAGC,OAAO,IAAI;AACjC,SAAO;AACLrC,IAAAA,IAAI,EAAE,mBADD;AAELqC,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMC,YAAY,GAAGlC,GAAG,IAAI;AAC1B,SAAO;AACLJ,IAAAA,IAAI,EAAE,gBADD;AAELI,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAMmC,QAAQ,GAAGL,GAAG,IAAI;AAC7B,SAAQ5B,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC6B,aAAa,EAAd,CAAR;AACArC,IAAAA,KAAK,CAAC;AACJwB,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,sCAA+BW,GAA/B;AAFC,KAAD,CAAL,CAIG1B,IAJH,CAIQC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC8B,eAAe,CAAC3B,QAAQ,CAACG,IAAT,CAAcyB,OAAf,CAAhB,CAAR;AACA3B,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,QAAQ,CAACG,IAAT,CAAcyB,OAAzD;AACD,KAPH,EAQGxB,KARH,CAQST,GAAG,IAAI;AACZE,MAAAA,QAAQ,CAACgC,YAAY,CAAClC,GAAD,CAAb,CAAR;AACD,KAVH;AAWD,GAbD;AAcD,CAfM,C,CAkBP;;AACA,MAAMoC,kBAAkB,GAAG,MAAM;AAC/B,SAAO;AACLxC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAKA,MAAMyC,iBAAiB,GAAIC,KAAD,IAAW;AACnC,SAAO;AACL1C,IAAAA,IAAI,EAAC,qBADA;AAEL0C,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMC,oBAAoB,GAAIC,UAAD,IAAgB;AAC3C,SAAO;AACL5C,IAAAA,IAAI,EAAC,wBADA;AAEL4C,IAAAA;AAFK,GAAP;AAID,CALD;;AAQA,OAAO,MAAMC,aAAa,GAAIR,OAAD,IAAa;AACxC,SAAQ/B,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACkC,kBAAkB,EAAnB,CAAR;AACA1C,IAAAA,KAAK,CAAC;AACJwB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,kCAFD;AAGJX,MAAAA,IAAI,EAAEyB;AAHF,KAAD,CAAL,CAKG7B,IALH,CAKQC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,QAAQ,CAACG,IAAT,CAAcyB,OAAnD;AACA/B,MAAAA,QAAQ,CAACqC,oBAAoB,CAAClC,QAAQ,CAACG,IAAT,CAAcyB,OAAf,CAArB,CAAR;AACD,KARH,EASGxB,KATH,CASS6B,KAAK,IAAI;AACdpC,MAAAA,QAAQ,CAACmC,iBAAiB,CAACC,KAAD,CAAlB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CAhBM,C,CAkBP;;AACA,MAAMI,gBAAgB,GAAG,MAAM;AAC7B,SAAO;AACL9C,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAM+C,eAAe,GAAIL,KAAD,IAAW;AACjC,SAAO;AACL1C,IAAAA,IAAI,EAAE,oBADD;AAEL0C,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMM,kBAAkB,GAAG,CAACC,EAAD,EAAKZ,OAAL,KAAiB;AAC1C,SAAO;AACLrC,IAAAA,IAAI,EAAE,sBADD;AAELiD,IAAAA,EAFK;AAGLZ,IAAAA;AAHK,GAAP;AAKD,CAND;;AAQA,OAAO,MAAMa,WAAW,GAAG,CAACD,EAAD,EAAKZ,OAAL,KAAiB;AAC1C,SAAQ/B,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACwC,gBAAgB,EAAjB,CAAR;AACAhD,IAAAA,KAAK,CACFqD,GADH,0CACyCF,EADzC,GAC+CZ,OAD/C,EAEG7B,IAFH,CAEQC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAAC0C,kBAAkB,CAACC,EAAD,EAAKxC,QAAQ,CAACG,IAAT,CAAcyB,OAAnB,CAAnB,CAAR;AACA/B,MAAAA,QAAQ,CAACD,aAAa,EAAd,CAAR;AACD,KALH,EAMGQ,KANH,CAMS6B,KAAK,IAAI;AACdpC,MAAAA,QAAQ,CAACyC,eAAe,CAACL,KAAD,CAAhB,CAAR;AACD,KARH;AASA,GAXF;AAYD,CAbM,C,CAeP;;AACA,MAAMU,kBAAkB,GAAG,MAAM;AAC/B,SAAO;AACLpD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAMqD,iBAAiB,GAAIX,KAAD,IAAW;AACnC,SAAO;AACL1C,IAAAA,IAAI,EAAE,sBADD;AAEL0C,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,MAAMY,oBAAoB,GAAIL,EAAD,IAAQ;AACnC,SAAO;AACLjD,IAAAA,IAAI,EAAE,wBADD;AAELiD,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAMM,aAAa,GAAIN,EAAD,IAAQ;AACnC,SAAQ3C,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC8C,kBAAkB,EAAnB,CAAR;AACA1C,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BsC,EAA7B;AACAnD,IAAAA,KAAK,CACF0D,MADH,4CAC8CP,EAD9C,GAEGzC,IAFH,CAEQC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAACgD,oBAAoB,CAACL,EAAD,CAArB,CAAR;AACAvC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,KALH,EAMGE,KANH,CAMS6B,KAAK,IAAI;AACdpC,MAAAA,QAAQ,CAAC+C,iBAAiB,CAACX,KAAD,CAAlB,CAAR;AACD,KARH;AASD,GAZD;AAaD,CAdM,C,CAiBP;;AACA,MAAMe,gBAAgB,GAAG,MAAM;AAC7B,SAAO;AACLzD,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,MAAM0D,kBAAkB,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,MAAlB,KAA6B;AACtD,SAAO;AACL7D,IAAAA,IAAI,EAAE,sBADD;AAEL2D,IAAAA,KAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA;AAJK,GAAP;AAMD,CAPD;;AASA,MAAMC,eAAe,GAAE1D,GAAG,IAAI;AAC5B,SAAO;AACLJ,IAAAA,IAAI,EAAE,mBADD;AAELI,IAAAA;AAFK,GAAP;AAID,CALD;;AAOA,OAAO,MAAM2D,WAAW,GAAG,CAACJ,KAAD,EAAQC,QAAR,KAAqB;AAC9C,MAAIhD,IAAI,GAAG,IAAIoD,QAAJ,EAAX;AACApD,EAAAA,IAAI,CAACqD,MAAL,CAAY,OAAZ,EAAqBN,KAArB;AACA/C,EAAAA,IAAI,CAACqD,MAAL,CAAY,UAAZ,EAAwBL,QAAxB;AACAlD,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBC,IAApB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBgD,KAArB;AACA,SAAQrD,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACmD,gBAAgB,EAAjB,CAAR;AACA3D,IAAAA,KAAK,CAAC;AACJwB,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,iCAFD;AAGJX,MAAAA,IAAI,EAAEA;AAHF,KAAD,CAAL,CAKGJ,IALH,CAKQC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAACoD,kBAAkB,CAACC,KAAD,EAAQC,QAAR,EAAkBnD,QAAQ,CAACG,IAAT,CAAciD,MAAhC,CAAnB,CAAR;AACAnD,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BF,QAAQ,CAACG,IAAtC;AACD,KARH,EASGC,KATH,CASST,GAAG,IAAI;AACZE,MAAAA,QAAQ,CAACwD,eAAe,CAAC1D,GAAD,CAAhB,CAAR;AACD,KAXH;AAYD,GAdD;AAeD,CArBM,C,CAuBP;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\n// Fetch Page\nconst fetchSoldiersStart = () => {\n  return {\n    type: 'FETCH_SOLDIERS_START'\n  };\n};\n\nconst fetchSoldiersSuccess = (soldiers) => {\n  return {\n    type: 'FETCH_SOLDIERS_SUCCESS',\n    soldiers\n  };\n};\n\nconst fetchSoldiersFail = err => {\n  return {\n    type: 'FETCH_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const fetchSoldiers = () => {\n  return (dispatch) => {\n    dispatch(fetchSoldiersStart());\n    axios\n      .get('http://localhost:5000/api/range/0/10')\n      .then(response => {\n        console.log('!!!soldiers',response.data.soldiers);\n        dispatch(fetchSoldiersSuccess(response.data.soldiers));\n      })\n      .catch(err => {\n        dispatch(fetchSoldiersFail(err));\n      });\n  }\n}\n\n// add range\nconst addRangeSoldiersStart = () => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_START'\n  };\n};\n\nconst addRangeSoldiersSuccess = (soldiers, hasMore) => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_SUCCESS',\n    soldiers,\n    hasMore\n  };\n};\n\nconst addRangeSoldiersFail = err => {\n  return {\n    type: 'ADD_RANGE_SOLDIERS_FAIL',\n    err\n  };\n};\n\nexport const addRangeEmployees = (offset, limit) => {\n  return dispatch => {\n    dispatch(addRangeEmployeesRequest());\n    axios({\n      method: 'get',\n      url: API_URL + `range/${offset}/${limit}`\n    })\n      .then(response => {\n        const employees = response.data.employees;\n        const hasMore = employees.length >= limit;\n        dispatch(addRangeEmployeesSuccess(employees, hasMore));\n      })\n      .catch(err => {\n        dispatch(addRangeEmployeesFailure(err));\n      });\n  };\n};\n\n// Fetch Sub Page\nconst fetchDirectSubsStart = () => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_START'\n  };\n};\n\nconst fetchDirectSubsSuccess = directSubs => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_SUCCESS',\n    directSubs\n  };\n};\n\nconst fetchDirectSubsFail = err => {\n  return {\n    type: 'FETCH_DIRECT_SUBS_FAIL',\n    err\n  };\n};\n\nexport const fetchDirectSubs = _id => {\n  return (dispatch) => {\n    dispatch(fetchDirectSubsStart());\n    axios({\n      method: 'get',\n      url: `http://localhost:5000/api/${_id}/directSubs`\n    })\n      .then(response => {\n        dispatch(fetchDirectSubsSuccess(response.data.directSubs));\n      })\n      .catch(err => {\n        dispatch(fetchDirectSubsFail(err));\n      });\n  };\n};\n\n\n// Fetch Sup Page\nconst fetchSupStart = () => {\n  return {\n    type: 'FETCH_SUP_START'\n  };\n};\n\nconst fetchSupSuccess = soldier => {\n  return {\n    type: 'FETCH_SUP_SUCCESS',\n    soldier\n  };\n};\n\nconst fetchSupFail = err => {\n  return {\n    type: 'FETCH_SUP_FAIL',\n    err\n  };\n};\n\nexport const fetchSup = _id => {\n  return (dispatch) => {\n    dispatch(fetchSupStart());\n    axios({\n      method: 'get',\n      url: `http://localhost:5000/api/${_id}`\n    })\n      .then(response => {\n        dispatch(fetchSupSuccess(response.data.soldier));\n        console.log('fetch soldier response.data', response.data.soldier);\n      })\n      .catch(err => {\n        dispatch(fetchSupFail(err));\n      });\n  };\n};\n\n\n// Create User\nconst createSoldierStart = () => {\n  return {\n    type: 'CREATE_SOLDIER_START'\n  };  \n};\nconst createSoldierFail = (error) => {\n  return {\n    type:'CREATE_SOLDIER_FAIL',\n    error\n  };\n};\n\nconst createSoldierSuccess = (newSoldier) => {\n  return {\n    type:'CREATE_SOLDIER_SUCCESS',\n    newSoldier\n  }\n};\n\n \nexport const createSoldier = (soldier) => {\n  return (dispatch) => {\n    dispatch(createSoldierStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:5000/api/create',\n      data: soldier\n    })\n      .then(response => {\n        console.log('response.data.soldier', response.data.soldier);\n        dispatch(createSoldierSuccess(response.data.soldier));\n      })\n      .catch(error => {\n        dispatch(createSoldierFail(error));\n      });\n  };\n};\n\n// Edit User\nconst editSoldierStart = () => {\n  return {\n    type: 'EDIT_SOLDIER_START'\n  };\n};\n\nconst editSoldierFail = (error) => {\n  return {\n    type: 'EDIT_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst editSoldierSuccess = (id, soldier) => {\n  return {\n    type: 'EDIT_SOLDIER_SUCCESS',\n    id,\n    soldier\n  };\n};\n\nexport const editSoldier = (id, soldier) => {\n  return (dispatch) => {\n    dispatch(editSoldierStart());\n    axios\n      .put(`http://localhost:5000/api/edit/${id}`, soldier)\n      .then(response => {\n        dispatch(editSoldierSuccess(id, response.data.soldier));\n        dispatch(fetchSoldiers());\n      })\n      .catch(error => {\n        dispatch(editSoldierFail(error));\n      });\n   };\n};\n\n// Delete User\nconst deleteSoldierStart = () => {\n  return {\n    type: 'DELETE_SOLDIER_START'\n  };\n};\n\nconst deleteSoldierFail = (error) => {\n  return {\n    type: 'DELETE_SOLDIER_ERROR',\n    error\n  };\n};\n\nconst deleteSoldierSuccess = (id) => {\n  return {\n    type: 'DELETE_SOLDIER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteSoldier = (id) => {\n  return (dispatch) => {\n    dispatch(deleteSoldierStart());\n    console.log('delete id is ', id);\n    axios\n      .delete(`http://localhost:5000/api/delete/${id}`)\n      .then(response => {\n        dispatch(deleteSoldierSuccess(id));\n        console.log('delete soldier success');\n      })\n      .catch(error => {\n        dispatch(deleteSoldierFail(error));\n      });\n  };\n};\n\n\n// Upload Image\nconst uploadImageStart = () => {\n  return {\n    type: 'UPLOAD_IMAGE_START'\n  };\n};\n\nconst uploadImageSuccess = (image, filename, imgUrl) => {\n  return {\n    type: 'UPLOAD_IMAGE_SUCCESS',\n    image,\n    filename,\n    imgUrl\n  };\n};\n\nconst uploadImageFail= err => {\n  return {\n    type: 'UPLOAD_IMAGE_FAIL',\n    err\n  };\n};\n\nexport const uploadImage = (image, filename) => {\n  let data = new FormData();\n  data.append('image', image);\n  data.append('filename', filename);\n  console.log('data', data);\n  console.log('image', image);\n  return (dispatch) => {\n    dispatch(uploadImageStart());\n    axios({\n      method: 'post',\n      url: 'http://localhost:5000/api/image',\n      data: data\n    })\n      .then(response => {\n        dispatch(uploadImageSuccess(image, filename, response.data.imgUrl));\n        console.log('response.data', response.data);\n      })\n      .catch(err => {\n        dispatch(uploadImageFail(err));\n      });\n  }\n};\n\n// Get Users\n// const getUsersStart = () => {\n//   return {\n//     type: 'GET_USERS_START'\n//   };\n// };\n\n// const getUsersFail = (error) => {\n//   return {\n//     type: 'GET_USERS_ERROR',\n//     error\n//   };\n// };\n\n// const getUsersSuccess = (response) => {\n//   return {\n//     type: 'GET_USERS_SUCCESS',\n//     data: response\n//   };\n// };\n\n// export const getUsers = () => {\n//   return (dispatch) => {\n//     dispatch(getUsersStart());\n//     axios\n//       .get('http://localhost:8080/api/', getUsers)\n//       .then(response => {\n//         dispatch(getUsersSuccess(response.data.users));\n//       })\n//       .catch(error => {\n//         dispatch(getUsersFail(error));\n//       });\n//   };\n// };\n\n// Redirect\n// export const redirect = () => {\n//   return {\n//     type: 'REDIRECT'\n//   };\n// };\n\n// export const resetRedirect = () => {\n//   return {\n//     type: 'RESET_REDIRECT'\n//   };\n// };\n\n\n// Sort\n// export const sortUsers = key => {\n//   return {\n//     type: 'SORT_USERS',\n//     key\n//   };\n// };\n\n\n// Search\n// const searchStart = () => {\n//   return {\n//     type: 'SEARCH_START'\n//   };\n// };\n\n// const searchSuccess = (users) => {\n//   return {\n//     type: 'SEARCH_SUCCESS',\n//     users,\n//   };\n// };\n\n// const searchFail = error => {\n//   return {\n//     type: 'SEARCH_FAIL',\n//     error\n//   };\n// };\n\n// export const search = (keyword) => {\n//   return (dispatch) => {\n//     dispatch(searchStart());\n//     axios\n//       .get(`http://localhost:8080/api/search/${keyword}`)\n//       .then(response => {\n//         console.log(`keyword is ${keyword}`);\n//         dispatch(searchSuccess(response.data));\n//       })\n//       .catch(error => {\n//         dispatch(searchFail(error));\n//       });\n//   }\n// }\n\n// export const changeSearchInput = (input) => {\n//   return {\n//     type: 'CHANGE_SEARCH_INPUT',\n//     input\n//   };\n// };\n\n\n\n// // Count Page\n// const getCountStart = () => {\n//   return {\n//     type: 'GET_COUNT_START'\n//   };\n// };\n\n// const getCountSuccess = count => {\n//   return {\n//     type: 'GET_COUNT_SUCCESS',\n//     count\n//   };\n// };\n\n// const getCountFail = err => {\n//   return {\n//     type: 'GET_COUNT_FAIL',\n//     err\n//   };\n// };\n\n// export const getCount = () => {\n//   return (dispatch) => {\n//     dispatch(getCountStart());\n//     axios\n//       .get('http://localhost:8080/api/count')\n//       .then(response => {\n//         const count = parseInt(response.data.count);\n//         dispatch(getCountSuccess(count));\n//       })\n//       .catch(err => {\n//         dispatch(getCountFail(err));\n//       });\n//   };\n// };\n\n\n// Set Status\n// export const setStatusCurPage = curPage => {\n//   return {\n//     type: 'SET_STATUS_CUR_PAGE',\n//     curPage\n//   };\n// };\n\n"]},"metadata":{},"sourceType":"module"}