{"ast":null,"code":"var _jsxFileName = \"/Users/Flora/myapp/src/components/HomePage/index.js\";\nimport React, { Component } from 'react'; // import { connect } from 'react-redux';\n\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onDelete = _id => {\n      this.props.deleteSoldier(_id);\n\n      if (this.props.deleteErr) {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    // if (this.props.soldiers.length === 0) {    //为什么要写长度===0的时候 fetch soldiers list呢？？？？\n    this.props.fetchSoldiers(); // }\n  }\n\n  render() {\n    const style = {\n      maxHeight: '50px',\n      maxWidth: '50px'\n    };\n\n    if (this.props.err !== null) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, \"There is an error in getting employees.\");\n    } else {\n      if (this.props.isLoading) {\n        return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, \"US Army Personnel Registry\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"scrollable\",\n          className: \"scroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(InfiniteScroll, {\n          className: \"scroll\" // dataLength={filteredList.length}\n          ,\n          next: () => this.props.loadSoldiers(this.props.soldiers.length, 5),\n          hasMore: this.props.hasMore,\n          loader: React.createElement(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, \"Loading..\"),\n          endMessage: React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, \"End\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table table-bordered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          className: \"thead-dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"Avatar\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, \"name\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Name\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'sex'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Sex\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'rank'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"Rank\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'startDate'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"Start Date\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'phone'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Phone\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'email'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"Email\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'superior', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Superior\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'numberOfDS', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, \"# of D.S.\")), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Delete\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, this.props.soldiers.map(soldier => {\n          return React.createElement(\"tr\", {\n            key: soldier._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, soldier.imgUrl ? React.createElement(\"img\", {\n            src: soldier.imgUrl,\n            alt: \"\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }) : React.createElement(\"img\", {\n            src: face,\n            alt: \"default avatar\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, soldier.name), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, soldier.sex), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, soldier.rank), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, soldier.startDate), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"tel:soldier.phone\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, soldier.phone)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"mailto:soldier.email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, soldier.email)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/\".concat(soldier.superiorId),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, soldier.superiorName)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs === 0 ? 0 : React.createElement(Link, {\n            to: \"/\".concat(soldier._id, \"/directSubs\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, React.createElement(Link, {\n            className: \"btn btn-info\",\n            to: \"/edit/\".concat(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, \"Edit\")), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: () => this.onDelete(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"Delete\")));\n        })))))), React.createElement(Link, {\n          to: \"/create\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Create New Soldier\"));\n      }\n    }\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/HomePage/index.js"],"names":["React","Component","Link","face","InfiniteScroll","HomePage","onDelete","_id","props","deleteSoldier","deleteErr","setState","redirect","componentDidMount","fetchSoldiers","render","style","maxHeight","maxWidth","err","isLoading","loadSoldiers","soldiers","length","hasMore","e","handleSort","map","soldier","imgUrl","name","sex","rank","startDate","phone","email","superiorId","superiorName","numberOfDirectSubs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nclass HomePage extends Component {\n  componentDidMount() {\n    // if (this.props.soldiers.length === 0) {    //为什么要写长度===0的时候 fetch soldiers list呢？？？？\n      this.props.fetchSoldiers();\n    // }\n  };\n\n  onDelete = (_id) => {\n    this.props.deleteSoldier(_id);\n    if (this.props.deleteErr) {\n      this.setState({redirect: true});\n    }\n  };\n\n  render() {\n    const style = { maxHeight: '50px', maxWidth: '50px' };\n    if (this.props.err !== null) {\n      return <p>There is an error in getting employees.</p>\n    } else {\n      if (this.props.isLoading) {\n        return <h2>Loading...</h2>\n      } else {\n        return (\n          <div>\n            <div>\n              <h2>US Army Personnel Registry</h2>\n            </div>\n            {/* <div>\n              <Search/>\n            </div> */}\n            <div>\n              <div id=\"scrollable\" className=\"scroll\">\n                <InfiniteScroll\n                  className=\"scroll\"\n                  // dataLength={filteredList.length}\n                  next={() =>this.props.loadSoldiers(this.props.soldiers.length, 5)}\n                  hasMore={this.props.hasMore}\n                  loader={<h4>Loading..</h4>}\n                  endMessage={<h3>End</h3>}\n                >\n              <table className=\"table table-bordered\">\n                <thead className =\"thead-dark\"> \n                  <tr>\n                    <th scope=\"col\">Avatar</th>\n                    <th scope=\"col\" >\n                      <a href='' onClick = {e => this.handleSort(e, \"name\")}>Name</a>\n                    </th>\n                    <th scope=\"col\"> \n                      <a href='' onClick = {e => this.handleSort(e, 'sex')}>Sex</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'rank')}>Rank</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'startDate')}>Start Date</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'phone')}>Phone</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'email')}>Email</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'superior', false)}>Superior</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'numberOfDS', false)}># of D.S.</a>\n                    </th>\n                    <th class='text-center'>Edit</th>\n                    <th class='text-center'>Delete</th>\n                  </tr>    \n                </thead>\n              \n                <tbody>\n                  {this.props.soldiers.map(soldier => {\n                    return (\n                      <tr key = {soldier._id}>\n                        <td>\n                          { soldier.imgUrl ? (<img src={soldier.imgUrl} alt =\"\" style={style}/>) : (\n                            <img src={face} alt=\"default avatar\" style={style} />\n                          )}\n                        </td>\n                        <td class='text-center'>{soldier.name}</td>\n                        <td class='text-center'>{soldier.sex}</td>\n                        <td class='text-center'>{soldier.rank}</td>\n                        <td class='text-center'>{soldier.startDate}</td>\n                        <td class='text-center'><a href ={`tel:soldier.phone`}>{soldier.phone}</a></td>\n                        <td class='text-center'><a href ={`mailto:soldier.email`}>{soldier.email}</a></td>\n                        <td class='text-center'><Link to ={`/${soldier.superiorId}`}>{soldier.superiorName}</Link></td>\n                        <td class='text-center'>{soldier.numberOfDirectSubs === 0 ? 0 : <Link to={`/${soldier._id}/directSubs`}>{soldier.numberOfDirectSubs}</Link>}</td>\n                        <td class='text-center'><Link className=\"btn btn-info\" to={`/edit/${soldier._id}`} >Edit</Link></td> \n                        <td class='text-center'><button type = 'button' className=\"btn btn-danger\" onClick={() => this.onDelete(soldier._id)}>Delete</button></td>\n                      </tr>\n                    );\n                  \n              })} \n            </tbody>  \n          </table>\n          </InfiniteScroll>\n          </div>\n        </div>\n\n          {/*  Button to Create User  */}\n          <Link to=\"/create\" className=\"btn btn-primary\" > \n            Create New Soldier\n          </Link>\n\n      </div>\n    )\n    }\n  }}\n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}