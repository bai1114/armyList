{"ast":null,"code":"var _jsxFileName = \"/Users/Flora/myapp/src/components/HomePage/index.js\";\nimport React, { Component } from 'react'; // import { connect } from 'react-redux';\n\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Moment from 'react-moment';\nMoment.globalFormat = 'DD MMM YYYY';\n\nclass HomePage extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onDelete = _id => {\n      this.props.deleteSoldier(_id);\n\n      if (this.props.deleteErr) {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n\n    this.handleSort = (e, key) => {\n      e.preventDefault();\n      this.props.sortSoldiers(key, false);\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.soldiers.length === 0) {\n      this.props.fetchSoldiers();\n    }\n  }\n\n  render() {\n    const style = {\n      maxHeight: '50px',\n      maxWidth: '50px'\n    };\n\n    if (this.props.err !== null) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"There is an error in getting soldiers.\");\n    } else {\n      if (this.props.isLoading) {\n        return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"US Army Personnel Registry\")), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"scrollable\",\n          className: \"scroll\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(InfiniteScroll, {\n          className: \"scroll\",\n          dataLength: this.props.soldiers.length,\n          next: () => this.props.loadSoldiers(this.props.soldiers.length, 5),\n          hasMore: this.props.hasMore // loader={<h6>Loading..</h6>}\n          ,\n          endMessage: React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, \"End\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"table\", {\n          className: \"table table-bordered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          className: \"thead-dark\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"Avatar\"), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, \"name\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Name\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'sex'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"Sex\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'rank'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Rank\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'startDate'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Start Date\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'phone'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"Phone\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'email'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Email\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'superior', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, \"Superior\")), React.createElement(\"th\", {\n          scope: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"\",\n          onClick: e => this.handleSort(e, 'numberOfDS', false),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, \"# of D.S.\")), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Edit\"), React.createElement(\"th\", {\n          class: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Delete\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, this.props.soldiers.map(soldier => {\n          console.log('date', React.createElement(Moment, {\n            unix: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, soldier.startDate, \")\"));\n          return React.createElement(\"tr\", {\n            key: soldier._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }, soldier.imgUrl ? React.createElement(\"img\", {\n            src: soldier.imgUrl,\n            alt: \"\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }) : React.createElement(\"img\", {\n            src: face,\n            alt: \"default avatar\",\n            style: style,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, soldier.name), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, soldier.sex), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }, soldier.rank), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(Moment, {\n            unix: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, soldier.startDate, \")\")), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"tel:soldier.phone\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, soldier.phone)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"mailto:soldier.email\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, soldier.email)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/\".concat(soldier.superiorId),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, soldier.superiorName)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs === 0 ? 0 : React.createElement(Link, {\n            to: \"/\".concat(soldier._id, \"/directSubs\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, soldier.numberOfDirectSubs)), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, React.createElement(Link, {\n            className: \"btn btn-info\",\n            to: \"/edit/\".concat(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, \"Edit\")), React.createElement(\"td\", {\n            class: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: () => this.onDelete(soldier._id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, \"Delete\")));\n        })))))), React.createElement(Link, {\n          to: \"/create\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, \"Create New Soldier\"));\n      }\n    }\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/HomePage/index.js"],"names":["React","Component","Link","face","InfiniteScroll","Moment","globalFormat","HomePage","onDelete","_id","props","deleteSoldier","deleteErr","setState","redirect","handleSort","e","key","preventDefault","sortSoldiers","componentDidMount","soldiers","length","fetchSoldiers","render","style","maxHeight","maxWidth","err","isLoading","loadSoldiers","hasMore","map","soldier","console","log","startDate","imgUrl","name","sex","rank","phone","email","superiorId","superiorName","numberOfDirectSubs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport face from '../../image/default.png';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Moment from 'react-moment';\nMoment.globalFormat = 'DD MMM YYYY';\nclass HomePage extends Component {\n  componentDidMount() {\n    if (this.props.soldiers.length === 0) {    \n      this.props.fetchSoldiers();\n    }\n  };\n\n  onDelete = (_id) => {\n    this.props.deleteSoldier(_id);\n    if (this.props.deleteErr) {\n      this.setState({redirect: true});\n    }\n  };\n  \n  handleSort = (e, key) => {\n    e.preventDefault();\n    this.props.sortSoldiers(key, false);\n  }\n \n  \n  render() {\n    const style = { maxHeight: '50px', maxWidth: '50px' };\n    if (this.props.err !== null) {\n      return <p>There is an error in getting soldiers.</p>\n    } else {\n      if (this.props.isLoading) {\n        return <h2>Loading...</h2>\n      } else {\n        return (\n          <div>\n            <div>\n              <h2>US Army Personnel Registry</h2>\n            </div>\n            {/* <div>\n              <Search/>\n            </div> */}\n            <div>\n              <div id=\"scrollable\" className=\"scroll\">\n                <InfiniteScroll\n                  className=\"scroll\"\n                  dataLength={this.props.soldiers.length}\n                  next={() =>this.props.loadSoldiers(this.props.soldiers.length, 5)}\n                  hasMore={this.props.hasMore}\n                  // loader={<h6>Loading..</h6>}\n                  endMessage={<h3>End</h3>}\n                >\n              <table className=\"table table-bordered\">\n                <thead className =\"thead-dark\"> \n                  <tr>\n                    <th scope=\"col\">Avatar</th>\n                    <th scope=\"col\" >\n                      <a href='' onClick = {e => this.handleSort(e, \"name\")}>Name</a>\n                    </th>\n                    <th scope=\"col\"> \n                      <a href='' onClick = {e => this.handleSort(e, 'sex')}>Sex</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'rank')}>Rank</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'startDate')}>Start Date</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href='' onClick = {e => this.handleSort(e, 'phone')}>Phone</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'email')}>Email</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'superior', false)}>Superior</a>\n                    </th>\n                    <th scope=\"col\">\n                      <a href=''  onClick = {e => this.handleSort(e, 'numberOfDS', false)}># of D.S.</a>\n                    </th>\n                    <th class='text-center'>Edit</th>\n                    <th class='text-center'>Delete</th>\n                  </tr>    \n                </thead>\n              \n                <tbody>\n                  {this.props.soldiers.map(soldier => {\n                    console.log('date',<Moment unix>{soldier.startDate})</Moment>);\n                    return (\n                      <tr key = {soldier._id}>\n                        <td>\n                          { soldier.imgUrl ? (<img src={soldier.imgUrl} alt =\"\" style={style}/>) : (\n                            <img src={face} alt=\"default avatar\" style={style} />\n                          )}\n                        </td>\n                        <td class='text-center'>{soldier.name}</td>\n                        <td class='text-center'>{soldier.sex}</td>\n                        <td class='text-center'>{soldier.rank}</td>\n                        <td class='text-center'><Moment unix>{soldier.startDate})</Moment></td>\n                        <td class='text-center'><a href ={`tel:soldier.phone`}>{soldier.phone}</a></td>\n                        <td class='text-center'><a href ={`mailto:soldier.email`}>{soldier.email}</a></td>\n                        <td class='text-center'><Link to ={`/${soldier.superiorId}`}>{soldier.superiorName}</Link></td>\n                        <td class='text-center'>{soldier.numberOfDirectSubs === 0 ? 0 : <Link to={`/${soldier._id}/directSubs`}>{soldier.numberOfDirectSubs}</Link>}</td>\n                        <td class='text-center'><Link className=\"btn btn-info\" to={`/edit/${soldier._id}`} >Edit</Link></td> \n                        <td class='text-center'><button type = 'button' className=\"btn btn-danger\" onClick={() => this.onDelete(soldier._id)}>Delete</button></td>\n                      </tr>\n                    );\n                  \n              })} \n            </tbody>  \n          </table>\n          </InfiniteScroll>\n          </div>\n        </div>\n\n          {/*  Button to Create User  */}\n          <Link to=\"/create\" className=\"btn btn-primary\" > \n            Create New Soldier\n          </Link>\n\n      </div>\n    )\n    }\n  }}\n}\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}