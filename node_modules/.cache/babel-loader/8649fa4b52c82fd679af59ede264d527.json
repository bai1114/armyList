{"ast":null,"code":"import _objectSpread from \"/Users/Flora/myapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Flora/myapp/src/components/CreateSoldier/index.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'; // import './createUser.css';\n\nimport face from '../../image/default.png';\n\nclass CreateSoldier extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      const soldier = _objectSpread({}, this.state);\n\n      delete soldier.startDateStr;\n      this.props.createSoldier(soldier);\n      console.log('err', this.props.err);\n\n      if (this.props.err === null) {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n\n    this.handleChange = (e, key) => {\n      let newObj = {};\n      newObj[key] = e.target.value;\n      this.setState(newObj);\n    };\n\n    this.handleDateChange = e => {\n      const dateStr = e.target.value;\n      let date = e.target.value;\n      this.setState({\n        startDateStr: dateStr,\n        startDate: date\n      });\n    };\n\n    this.handleFile = () => {\n      const file = this.fileInput.files[0];\n      const filename = file.name;\n      const url = this.getObjectURL(file);\n      this.setState({\n        imgUrl: url\n      });\n      this.props.uploadImage(file, filename);\n    };\n\n    this.state = {\n      name: '',\n      sex: '',\n      rank: '',\n      startDate: null,\n      startDateStr: '',\n      phone: '',\n      email: '',\n      superiorId: null,\n      redirect: false,\n      imgUrl: face\n    };\n  }\n\n  getObjectURL(file) {\n    var url = null;\n\n    if (window.createObjectURL !== undefined) {\n      // basic\n      url = window.createObjectURL(file);\n    } else if (window.URL !== undefined) {\n      // mozilla(firefox)\n      url = window.URL.createObjectURL(file);\n    } else if (window.webkitURL !== undefined) {\n      // webkit or chrome\n      url = window.webkitURL.createObjectURL(file);\n    }\n\n    return url;\n  }\n\n  render() {\n    // const passwordStyle = {color: 'red'};\n    // const {soldiers} = this.props;\n    const redirect = this.state.redirect;\n    const imgStyle = {\n      width: \"300px\",\n      height: \"300px\"\n    };\n    console.log(\"soldiers\", this.props.soldiers);\n\n    if (redirect && !this.props.isLoading) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: '/'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        className: \"create_soldier\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Create New Soldier\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.imgUrl,\n        alt: \"\",\n        style: imgStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"col col-sm-2 col-lg-2 col-form-label\",\n        htmlFor: \"picture\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col col-sm-10 col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Upload Picture:\", React.createElement(\"input\", {\n        id: \"picture\",\n        type: \"file\",\n        ref: input => {\n          this.fileInput = input;\n        },\n        className: \"form-control\",\n        accept: \".jpg, .jpeg, .png\",\n        onChange: this.handleFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"name\",\n        value: this.state.name,\n        onChange: e => this.handleChange(e, 'name'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"sex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Sex:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"sex\",\n        value: this.state.sex,\n        onChange: e => this.handleChange(e, 'sex'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"rank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Rank:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"rank\",\n        value: this.state.rank,\n        onChange: e => this.handleChange(e, 'rank'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"startDate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Start Date:\"), React.createElement(\"input\", {\n        type: \"date\",\n        class: \"form-control\",\n        id: \"startDate\",\n        value: this.state.startDateStr,\n        onChange: this.handleDateChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"phone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Phone:\"), React.createElement(\"input\", {\n        type: \"number\",\n        class: \"form-control\",\n        id: \"phone\",\n        value: this.state.phone,\n        onChange: e => this.handleChange(e, 'phone'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        id: \"email\",\n        value: this.state.email,\n        onChange: e => this.handleChange(e, 'email'),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"superior\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Superior:\"), React.createElement(\"div\", {\n        className: \"col col-sm-10 col-lg-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"superior\",\n        onChange: e => this.handleChange(e, 'superiorId'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \" Select a soldier as a superior \"), this.props.soldiers.map(soldier => {\n        return React.createElement(\"option\", {\n          key: soldier._id,\n          value: soldier._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, soldier.name);\n      })))), React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Save Soldier\")));\n    }\n  }\n\n}\n\nexport default CreateSoldier;","map":{"version":3,"sources":["/Users/Flora/myapp/src/components/CreateSoldier/index.js"],"names":["React","Component","Redirect","face","CreateSoldier","constructor","props","handleSubmit","e","preventDefault","soldier","state","startDateStr","createSoldier","console","log","err","setState","redirect","handleChange","key","newObj","target","value","handleDateChange","dateStr","date","startDate","handleFile","file","fileInput","files","filename","name","url","getObjectURL","imgUrl","uploadImage","sex","rank","phone","email","superiorId","window","createObjectURL","undefined","URL","webkitURL","render","imgStyle","width","height","soldiers","isLoading","pathname","input","map","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n// import './createUser.css';\nimport face from '../../image/default.png';\n\nclass CreateSoldier extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      sex: '',\n      rank: '',\n      startDate: null,\n      startDateStr: '',\n      phone: '',\n      email: '',\n      superiorId: null,\n      redirect: false,\n      imgUrl: face,\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const soldier = {...this.state};\n    delete soldier.startDateStr;\n    this.props.createSoldier(soldier);\n    console.log('err', this.props.err);\n    if (this.props.err === null) {\n      this.setState({ redirect: true });\n    }\n  }\n  \n  handleChange = (e, key) => {\n    let newObj = {};\n    newObj[key] = e.target.value;\n    this.setState(newObj);\n  }\n\n  handleDateChange = e => {\n    const dateStr = e.target.value;\n    let date = e.target.value;\n    this.setState({ startDateStr: dateStr, startDate: date });\n  }\n\n  handleFile = () => {\n    const file = this.fileInput.files[0];\n    const filename = file.name;\n    const url = this.getObjectURL(file);\n    this.setState({imgUrl : url});\n    this.props.uploadImage(file, filename);\n  };\n  getObjectURL(file) {\n    var url = null ;\n    if (window.createObjectURL!==undefined) { // basic\n        url = window.createObjectURL(file) ;\n    } else if (window.URL!==undefined) { // mozilla(firefox)\n        url = window.URL.createObjectURL(file) ;\n    } else if (window.webkitURL!==undefined) { // webkit or chrome\n        url = window.webkitURL.createObjectURL(file) ;\n    }\n    return url ;\n  }\n\n  render() {\n    // const passwordStyle = {color: 'red'};\n    // const {soldiers} = this.props;\n    const redirect = this.state.redirect;\n    const imgStyle  = {width : \"300px\", height : \"300px\"}\n    console.log(\"soldiers\", this.props.soldiers);\n    if (redirect && !this.props.isLoading) {\n      return <Redirect to = {{ pathname: '/' }}/>\n    } else {\n      return (\n        <div className = 'create_soldier'>\n          <h2>Create New Soldier</h2>\n          <br></br>\n          <form onSubmit = {this.handleSubmit}>\n            <div className=\"image\">\n            <img src={this.state.imgUrl} alt=\"\" style={imgStyle}></img>\n              <label className=\"col col-sm-2 col-lg-2 col-form-label\" htmlFor=\"picture\"> \n              </label>\n              <div className=\"col col-sm-10 col-lg-4\">\n              Upload Picture:\n                <input id=\"picture\" type=\"file\" \n                       ref = {input => {this.fileInput = input}}\n                       className=\"form-control\"\n                       accept=\".jpg, .jpeg, .png\"\n                       onChange={this.handleFile}\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group col-md-50\"> \n              <label htmlFor=\"name\">\n                Name:\n              </label>\n              <input type = 'text' class=\"form-control\" id = 'name' value = {this.state.name} onChange = {e => this.handleChange(e, 'name')} required = {true} />\n            </div>\n\n            <div class=\"form-group col-md-50\"> \n              <label htmlFor=\"sex\">\n                Sex:\n              </label>\n              <input type = 'text' class=\"form-control\" id = 'sex' value = {this.state.sex} onChange = {e => this.handleChange(e, 'sex')} required = {true} />\n            </div>\n            \n            <div class=\"form-group col-md-50\"> \n              <label  htmlFor=\"rank\">\n                Rank:\n              </label>\n              <input type = 'text' class=\"form-control\" id = 'rank' value = {this.state.rank} onChange = {e => this.handleChange(e, 'rank')} required = {true}/>\n            </div>\n              \n            <div class=\"form-group col-md-50\"> \n              <label htmlFor=\"startDate\">\n                Start Date:\n              </label>\n              <input type = 'date' class=\"form-control\" id = 'startDate' value = {this.state.startDateStr} onChange = {this.handleDateChange} required = {true}/>\n            </div>\n            \n            <div class=\"form-group col-md-50\"> \n              <label htmlFor=\"phone\">\n                Phone:\n              </label>\n              <input type = 'number' class=\"form-control\" id = 'phone' value = {this.state.phone} onChange = {e => this.handleChange(e, 'phone')} required = {true} />\n            </div>\n              \n            <div class=\"form-group col-md-50\"> \n              <label htmlFor='email'>\n                Email: \n              </label> \n              <input type = 'text' class=\"form-control\" id = 'email' value = {this.state.email} onChange = {e => this.handleChange(e, 'email')} required = {true} />\n            </div> \n\n            <div class=\"form-group col-md-50\"> \n              <label htmlFor='superior'>\n                Superior: \n              </label> \n              <div className=\"col col-sm-10 col-lg-4\">\n              <select className=\"form-control\" id=\"superior\" onChange={e => this.handleChange(e, 'superiorId')}>\n                <option value={null}> Select a soldier as a superior </option>\n                {this.props.soldiers.map(soldier => {\n                  return <option key={soldier._id} value={soldier._id}>{soldier.name}</option>\n                })}\n              </select>\n            </div>\n            </div> \n\n            <button className=\"btn btn-success\" type = \"submit\">Save Soldier</button> \n          </form>\n        </div>\n      );\n    } \n  }\n}\n\nexport default CreateSoldier;"]},"metadata":{},"sourceType":"module"}