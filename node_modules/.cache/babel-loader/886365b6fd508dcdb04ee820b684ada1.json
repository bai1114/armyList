{"ast":null,"code":"import axios from 'axios'; // Create User\n\nconst createUserStart = () => {\n  return {\n    type: 'CREATE_USER_START'\n  };\n};\n\nconst createUserFail = error => {\n  return {\n    type: 'CREATE_USER_FAIL',\n    error\n  };\n};\n\nconst createUserSuccess = user => {\n  return {\n    type: 'CREATE_USER_SUCCESS',\n    user\n  };\n};\n\nexport const createUser = user => {\n  return dispatch => {\n    dispatch(createUserStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:8080/api/users',\n      data: user\n    }).then(response => {\n      console.log(response.data);\n      dispatch(createUserSuccess(response.data.newUser));\n    }).catch(error => {\n      dispatch(createUserFail(error));\n    });\n  };\n}; // Edit User\n\nconst editUserStart = () => {\n  return {\n    type: 'EDIT_USER_START'\n  };\n};\n\nconst editUserFail = error => {\n  return {\n    type: 'EDIT_USER_ERROR',\n    error\n  };\n};\n\nconst editUserSuccess = (id, user) => {\n  return {\n    type: 'EDIT_USER_SUCCESS',\n    id,\n    user\n  };\n};\n\nexport const editUser = (id, user) => {\n  return dispatch => {\n    dispatch(editUserStart());\n    axios.put(\"http://localhost:8080/api/users/\".concat(id), user).then(response => {\n      dispatch(editUserSuccess(id, user)); // console.log('this is in the edit user');\n      // console.log('test: edit user success!!!');\n      // console.log('test edit user id is', id);\n      // console.log('test edit user is', user);\n      //dispatch(getUsers());\n      //console.log(getUsers());\n    }).catch(error => {\n      dispatch(editUserFail(error));\n    });\n  };\n}; // Delete User\n\nconst deleteUserStart = () => {\n  return {\n    type: 'DELETE_USER_START'\n  };\n};\n\nconst deleteUserFail = error => {\n  return {\n    type: 'DELETE_USER_ERROR',\n    error\n  };\n};\n\nconst deleteUserSuccess = id => {\n  return {\n    type: 'DELETE_USER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteUser = (id, deleteUser) => {\n  return dispatch => {\n    dispatch(deleteUserStart());\n    axios.delete(\"http://localhost:8080/api/users/\".concat(id), deleteUser).then(response => {\n      dispatch(deleteUserSuccess(id));\n      dispatch(getUsers());\n      console.log('delete user success');\n    }).catch(error => {\n      dispatch(deleteUserFail(error));\n    });\n  };\n}; // // Get User\n// const getUserStart = () => {\n//   return {\n//     type: 'GET_USER_START'\n//   };\n// };\n// const getUserFail = (error) => {\n//   return {\n//     type: 'GET_USER_ERROR',\n//     error\n//   };\n// };\n// const getUserSuccess = (id) => {\n//   return {\n//     type: 'GET_USER_SUCCESS',\n//     id\n//   };\n// }\n// export const getUser = (id, getUser) => {\n//   return (dispatch) => {\n//     dispatch(getUserStart());\n//     axios\n//       .get(`http://localhost:8080/api/users/${id}`, getUser)\n//       .then(response => {\n//         dispatch(getUserSuccess(id));\n//         console.log('get user success');\n//       })\n//       .catch(error => {\n//         dispatch(getUserFail(error));\n//       });\n//   };\n// };\n// Get Userlist\n\nconst getUsersStart = () => {\n  return {\n    type: 'GET_USERS_START'\n  };\n};\n\nconst getUsersFail = error => {\n  return {\n    type: 'GET_USERS_ERROR',\n    error\n  };\n};\n\nconst getUsersSuccess = response => {\n  return {\n    type: 'GET_USERS_SUCCESS',\n    data: response\n  };\n};\n\nexport const getUsers = () => {\n  return dispatch => {\n    dispatch(getUsersStart());\n    axios.get('http://localhost:8080/api/users', getUsers).then(response => {\n      dispatch(getUsersSuccess(response.data));\n    }).catch(error => {\n      dispatch(getUsersFail(error));\n    });\n  };\n}; // Redirect\n\nexport const redirect = () => {\n  return {\n    type: 'REDIRECT'\n  };\n};\nexport const resetRedirect = () => {\n  return {\n    type: 'RESET_REDIRECT'\n  };\n}; // Sort\n\nexport const sortUsers = key => {\n  return {\n    type: 'SORT_USERS',\n    key\n  };\n}; // Search\n\nconst searchStart = () => {\n  return {\n    type: 'SEARCH_START'\n  };\n};\n\nconst searchSuccess = users => {\n  return {\n    type: 'SEARCH_SUCCESS',\n    users\n  };\n};\n\nconst searchFail = error => {\n  return {\n    type: 'SEARCH_FAIL',\n    error\n  };\n};\n\nexport const backToHome = () => {\n  return {\n    type: 'BACK_TO_HOME'\n  };\n};\nexport const search = keyword => {\n  return dispatch => {\n    dispatch(searchStart());\n    axios.get(\"http://localhost:8080/api/search/\".concat(keyword)).then(response => {\n      console.log(\"keyword is \".concat(keyword));\n      dispatch(searchSuccess(response.data)); //dispatch(getUsers());\n    }).catch(error => {\n      dispatch(searchFail(error));\n    });\n  };\n};\nexport const changeSearchInput = input => {\n  return {\n    type: 'CHANGE_SEARCH_INPUT',\n    input\n  };\n}; // Fetch\n\nconst fetchStart = () => {\n  return {\n    type: 'FETCH_START'\n  };\n};\n\nconst fetchSuccess = (users, matrix) => {\n  return {\n    type: 'FETCH_SUCCESS',\n    users,\n    matrix\n  };\n};\n\nconst fetchFail = () => {\n  return {\n    type: 'FETCH_FAIL'\n  };\n};\n\nexport const fetch = total => {\n  return dispatch => {\n    console.log(\"fetch success\");\n    dispatch(fetchStart());\n    axios.get('http://localhost:8080/api/search/fetch').then(response => {\n      let pages = total / 5;\n      let matrix = new Array(pages);\n      let k = 0;\n\n      for (let i = 0; i < pages; i++) {\n        matrix[i] = new Array(5);\n\n        for (let j = 0; j < 5; j++) {\n          matrix[i][j] = this.props.curUserList[k++];\n        }\n      }\n\n      dispatch(fetchSuccess(response.data, matrix));\n    }).catch(err => {\n      dispatch(fetchFail(err));\n    });\n  };\n}; // Fetch Page\n\nconst fetchPageStart = () => {\n  return {\n    type: 'FETCH_PAGE_START'\n  };\n};\n\nconst fetchPageSuccess = (page, pageSize, pageOfUsers) => {\n  return {\n    type: 'FETCH_PAGE_SUCCESS',\n    page,\n    pageSize,\n    pageOfUsers\n  };\n};\n\nconst fetchPageFail = err => {\n  return {\n    type: 'FETCH_PAGE_FAIL',\n    err\n  };\n};\n\nexport const fetchPage = (page, size) => {\n  const startIndex = (page - 1) * size;\n  return dispatch => {\n    dispatch(fetchPageStart());\n    axios.get(\"http://localhost:8080/api/range/\".concat(startIndex, \"/\").concat(size)).then(response => {\n      dispatch(fetchPageSuccess(page, size, response.data));\n    }).catch(err => {\n      dispatch(fetchPageFail(err));\n    });\n  };\n}; // Count Page\n\nconst getCountRequest = () => {\n  return {\n    type: 'GET_COUNT_START'\n  };\n};\n\nconst getCountSuccess = count => {\n  return {\n    type: 'GET_COUNT_SUCCESS',\n    count\n  };\n};\n\nconst getCountFailure = err => {\n  return {\n    type: 'GET_COUNT_SUCCESS_FAIL',\n    err\n  };\n};\n\nexport const getCount = () => {\n  return (dispatch, setState) => {\n    dispatch(getCountRequest());\n    axios.get('http://localhost:8080/api/count').then(response => {\n      const count = parseInt(response.data.count);\n      dispatch(getCountSuccess(count));\n    }).catch(err => {\n      dispatch(getCountFailure(err));\n    });\n  };\n};\nexport const nextPage = () => {\n  return {\n    type: 'NEXT_PAGE'\n  };\n};\nexport const jumpToPage = page => {\n  return {\n    type: 'JUMP_TO_PAGE',\n    page\n  };\n}; // Set Status\n\nexport const setStatusCurPage = curPage => {\n  return {\n    type: 'SET_STATUS_CUR_PAGE',\n    curPage\n  };\n};\nexport const setStatusOrder = order => {\n  return {\n    type: 'SET_STATUS_ORDER',\n    order\n  };\n};","map":{"version":3,"sources":["/Users/Flora/myapp/src/redux/action-creators/index.js"],"names":["axios","createUserStart","type","createUserFail","error","createUserSuccess","user","createUser","dispatch","method","url","data","then","response","console","log","newUser","catch","editUserStart","editUserFail","editUserSuccess","id","editUser","put","deleteUserStart","deleteUserFail","deleteUserSuccess","deleteUser","delete","getUsers","getUsersStart","getUsersFail","getUsersSuccess","get","redirect","resetRedirect","sortUsers","key","searchStart","searchSuccess","users","searchFail","backToHome","search","keyword","changeSearchInput","input","fetchStart","fetchSuccess","matrix","fetchFail","fetch","total","pages","Array","k","i","j","props","curUserList","err","fetchPageStart","fetchPageSuccess","page","pageSize","pageOfUsers","fetchPageFail","fetchPage","size","startIndex","getCountRequest","getCountSuccess","count","getCountFailure","getCount","setState","parseInt","nextPage","jumpToPage","setStatusCurPage","curPage","setStatusOrder","order"],"mappings":"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","sourcesContent":["import axios from 'axios';\n// Create User\nconst createUserStart = () => {\n  return {\n    type: 'CREATE_USER_START'\n  };  \n};\nconst createUserFail = (error) => {\n  return {\n    type:'CREATE_USER_FAIL',\n    error\n  };\n};\n\nconst createUserSuccess = (user) => {\n  return {\n    type:'CREATE_USER_SUCCESS',\n    user\n  }\n};\n\n \nexport const createUser = (user) => {\n  return (dispatch) => {\n    dispatch(createUserStart());\n    axios({\n      method: 'POST',\n      url: 'http://localhost:8080/api/users',\n      data: user\n    })\n      .then(response => {\n        console.log(response.data);\n        dispatch(createUserSuccess(response.data.newUser));\n      })\n      .catch(error => {\n        dispatch(createUserFail(error));\n      });\n  };\n};\n\n// Edit User\nconst editUserStart = () => {\n  return {\n    type: 'EDIT_USER_START'\n  };\n};\n\nconst editUserFail = (error) => {\n  return {\n    type: 'EDIT_USER_ERROR',\n    error\n  };\n};\n\nconst editUserSuccess = (id, user) => {\n  return {\n    type: 'EDIT_USER_SUCCESS',\n    id,\n    user\n  };\n};\n\nexport const editUser = (id, user) => {\n  return (dispatch) => {\n    dispatch(editUserStart());\n    axios\n      .put(`http://localhost:8080/api/users/${id}`, user)\n      .then(response => {\n        dispatch(editUserSuccess(id, user));\n        // console.log('this is in the edit user');\n        // console.log('test: edit user success!!!');\n        // console.log('test edit user id is', id);\n        // console.log('test edit user is', user);\n        //dispatch(getUsers());\n        //console.log(getUsers());\n      })\n      .catch(error => {\n        dispatch(editUserFail(error));\n      });\n   };\n};\n\n// Delete User\nconst deleteUserStart = () => {\n  return {\n    type: 'DELETE_USER_START'\n  };\n};\n\nconst deleteUserFail = (error) => {\n  return {\n    type: 'DELETE_USER_ERROR',\n    error\n  };\n};\n\nconst deleteUserSuccess = (id) => {\n  return {\n    type: 'DELETE_USER_SUCCESS',\n    id\n  };\n};\n\nexport const deleteUser = (id, deleteUser) => {\n  return (dispatch) => {\n    dispatch(deleteUserStart());\n    axios\n      .delete(`http://localhost:8080/api/users/${id}`, deleteUser)\n      .then(response => {\n        dispatch(deleteUserSuccess(id));\n        dispatch(getUsers());\n        console.log('delete user success');\n      })\n      .catch(error => {\n        dispatch(deleteUserFail(error));\n      });\n  };\n};\n\n// // Get User\n// const getUserStart = () => {\n//   return {\n//     type: 'GET_USER_START'\n//   };\n// };\n\n// const getUserFail = (error) => {\n//   return {\n//     type: 'GET_USER_ERROR',\n//     error\n//   };\n// };\n\n// const getUserSuccess = (id) => {\n//   return {\n//     type: 'GET_USER_SUCCESS',\n//     id\n//   };\n// }\n\n// export const getUser = (id, getUser) => {\n//   return (dispatch) => {\n//     dispatch(getUserStart());\n//     axios\n//       .get(`http://localhost:8080/api/users/${id}`, getUser)\n//       .then(response => {\n//         dispatch(getUserSuccess(id));\n//         console.log('get user success');\n//       })\n//       .catch(error => {\n//         dispatch(getUserFail(error));\n//       });\n//   };\n// };\n\n// Get Userlist\nconst getUsersStart = () => {\n  return {\n    type: 'GET_USERS_START'\n  };\n};\n\nconst getUsersFail = (error) => {\n  return {\n    type: 'GET_USERS_ERROR',\n    error\n  };\n};\n\nconst getUsersSuccess = (response) => {\n  return {\n    type: 'GET_USERS_SUCCESS',\n    data: response\n  };\n};\n\nexport const getUsers = () => {\n  return (dispatch) => {\n    dispatch(getUsersStart());\n    axios\n      .get('http://localhost:8080/api/users', getUsers)\n      .then(response => {\n        dispatch(getUsersSuccess(response.data));\n      })\n      .catch(error => {\n        dispatch(getUsersFail(error));\n      });\n  };\n};\n\n// Redirect\nexport const redirect = () => {\n  return {\n    type: 'REDIRECT'\n  };\n};\n\nexport const resetRedirect = () => {\n  return {\n    type: 'RESET_REDIRECT'\n  };\n};\n\n\n// Sort\nexport const sortUsers = key => {\n  return {\n    type: 'SORT_USERS',\n    key\n  };\n};\n\n\n// Search\nconst searchStart = () => {\n  return {\n    type: 'SEARCH_START'\n  };\n};\n\nconst searchSuccess = (users) => {\n  return {\n    type: 'SEARCH_SUCCESS',\n    users,\n  };\n};\n\nconst searchFail = error => {\n  return {\n    type: 'SEARCH_FAIL',\n    error\n  };\n};\n\nexport const backToHome = () => {\n  return {\n    type: 'BACK_TO_HOME'\n  }\n}\nexport const search = (keyword) => {\n  return (dispatch) => {\n    dispatch(searchStart());\n    axios\n      .get(`http://localhost:8080/api/search/${keyword}`)\n      .then(response => {\n        console.log(`keyword is ${keyword}`);\n        dispatch(searchSuccess(response.data));\n        //dispatch(getUsers());\n      })\n      .catch(error => {\n        dispatch(searchFail(error));\n      });\n  }\n}\n\nexport const changeSearchInput = (input) => {\n  return {\n    type: 'CHANGE_SEARCH_INPUT',\n    input\n  };\n};\n\n// Fetch\nconst fetchStart = () =>{\n  return {\n    type: 'FETCH_START',\n  };\n}\nconst fetchSuccess = (users, matrix) =>{\n  return {\n    type: 'FETCH_SUCCESS',\n    users,\n    matrix,\n  };\n}\nconst fetchFail = () =>{\n  return {\n    type: 'FETCH_FAIL'\n  };\n}\nexport const fetch = (total) => {\n  return (dispatch) => {\n    console.log(\"fetch success\");\n    dispatch(fetchStart());\n    axios\n      .get('http://localhost:8080/api/search/fetch')\n      .then(response => {\n        let pages = total / 5;\n        let matrix = new Array(pages);\n        let k = 0;\n        for(let i = 0; i < pages; i++) {\n            matrix[i] = new Array(5);\n        for(let j = 0; j < 5; j++){\n          matrix[i][j] = this.props.curUserList[k++];\n        }\n    }\n        dispatch(fetchSuccess(response.data, matrix));\n      })\n      .catch(err => {\n        dispatch(fetchFail(err));\n      });\n  }\n}\n\n// Fetch Page\nconst fetchPageStart = () => {\n  return {\n    type: 'FETCH_PAGE_START'\n  };\n};\n\nconst fetchPageSuccess = (page, pageSize, pageOfUsers) => {\n  return {\n    type: 'FETCH_PAGE_SUCCESS',\n    page,\n    pageSize,\n    pageOfUsers\n  };\n};\n\nconst fetchPageFail = err => {\n  return {\n    type: 'FETCH_PAGE_FAIL',\n    err\n  };\n};\n\nexport const fetchPage = (page, size) => {\n  const startIndex = (page - 1) * size;\n  return (dispatch) => {\n    dispatch(fetchPageStart());\n    axios\n      .get(`http://localhost:8080/api/range/${startIndex}/${size}`)\n      .then(response => {\n        dispatch(fetchPageSuccess(page, size, response.data));\n      })\n      .catch(err => {\n        dispatch(fetchPageFail(err));\n      });\n  }\n}\n\n// Count Page\nconst getCountRequest = () => {\n  return {\n    type: 'GET_COUNT_START'\n  };\n};\n\nconst getCountSuccess = count => {\n  return {\n    type: 'GET_COUNT_SUCCESS',\n    count\n  };\n};\n\nconst getCountFailure = err => {\n  return {\n    type: 'GET_COUNT_SUCCESS_FAIL',\n    err\n  };\n};\n\nexport const getCount= () => {\n  return (dispatch, setState) => {\n    dispatch(getCountRequest());\n    axios\n      .get('http://localhost:8080/api/count')\n      .then(response => {\n        const count = parseInt(response.data.count);\n        dispatch(getCountSuccess(count));\n      })\n      .catch(err => {\n        dispatch(getCountFailure(err));\n      });\n  };\n};\n\nexport const nextPage = () => {\n  return{\n    type: 'NEXT_PAGE',\n  }\n}\n\nexport const jumpToPage = page => {\n  return{\n    type: 'JUMP_TO_PAGE',\n    page,\n  }\n}\n\n// Set Status\nexport const setStatusCurPage = curPage => {\n  return {\n    type: 'SET_STATUS_CUR_PAGE',\n    curPage\n  };\n};\n\nexport const setStatusOrder = order => {\n  return {\n    type: 'SET_STATUS_ORDER',\n    order\n  };\n};"]},"metadata":{},"sourceType":"module"}